(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(1658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},512:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return p},defaultHead:function(){return l}});let d=c(4985),e=c(740),f=c(687),g=e._(c(3210)),h=d._(c(7755)),i=c(4959),j=c(9513),k=c(4604);function l(a){void 0===a&&(a=!1);let b=[(0,f.jsx)("meta",{charSet:"utf-8"},"charset")];return a||b.push((0,f.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),b}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===g.default.Fragment?a.concat(g.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}c(148);let n=["name","httpEquiv","charSet","itemProp"];function o(a,b){let{inAmpMode:c}=b;return a.reduce(m,[]).reverse().concat(l(c).reverse()).filter(function(){let a=new Set,b=new Set,c=new Set,d={};return e=>{let f=!0,g=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){g=!0;let b=e.key.slice(e.key.indexOf("$")+1);a.has(b)?f=!1:a.add(b)}switch(e.type){case"title":case"base":b.has(e.type)?f=!1:b.add(e.type);break;case"meta":for(let a=0,b=n.length;a<b;a++){let b=n[a];if(e.props.hasOwnProperty(b))if("charSet"===b)c.has(b)?f=!1:c.add(b);else{let a=e.props[b],c=d[b]||new Set;("name"!==b||!g)&&c.has(a)?f=!1:(c.add(a),d[b]=c)}}}return f}}()).reverse().map((a,b)=>{let c=a.key||b;return g.default.cloneElement(a,{key:c})})}let p=function(a){let{children:b}=a,c=(0,g.useContext)(i.AmpStateContext),d=(0,g.useContext)(j.HeadManagerContext);return(0,f.jsx)(h.default,{reduceComponentsToState:o,headManager:d,inAmpMode:(0,k.isInAmpMode)(c),children:b})};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},1135:()=>{},1204:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g});var d=c(7413),e=c(1623),f=c(1120);function g(){return(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100",children:(0,d.jsx)("div",{className:"mx-auto max-w-6xl px-6 py-10 space-y-8",children:(0,d.jsx)(f.Suspense,{children:(0,d.jsx)(e.default,{})})})})}},1261:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return i},getImageProps:function(){return h}});let d=c(4985),e=c(4953),f=c(6533),g=d._(c(1933));function h(a){let{props:b}=(0,e.getImgProps)(a,{defaultLoader:g.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let i=f.Image},1480:(a,b)=>{"use strict";function c(a){let{widthInt:b,heightInt:c,blurWidth:d,blurHeight:e,blurDataURL:f,objectFit:g}=a,h=d?40*d:b,i=e?40*e:c,j=h&&i?"viewBox='0 0 "+h+" "+i+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+j+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(j?"none":"contain"===g?"xMidYMid":"cover"===g?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+f+"'/%3E%3C/svg%3E"}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImageBlurSvg",{enumerable:!0,get:function(){return c}})},1623:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(1369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Workspace\\\\man-weekend-dashboard\\\\src\\\\components\\\\HomeTabs.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Workspace\\man-weekend-dashboard\\src\\components\\HomeTabs.tsx","default")},1933:(a,b)=>{"use strict";function c(a){var b;let{config:c,src:d,width:e,quality:f}=a,g=f||(null==(b=c.qualities)?void 0:b.reduce((a,b)=>Math.abs(b-75)<Math.abs(a-75)?b:a))||75;return c.path+"?url="+encodeURIComponent(d)+"&w="+e+"&q="+g+(d.startsWith("/_next/static/media/"),"")}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return d}}),c.__next_img_default=!0;let d=c},2743:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,4536,23))},2756:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{VALID_LOADERS:function(){return c},imageConfigDefault:function(){return d}});let c=["default","imgix","cloudinary","akamai","custom"],d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},2981:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,6133,23)),Promise.resolve().then(c.t.bind(c,6444,23)),Promise.resolve().then(c.t.bind(c,6042,23)),Promise.resolve().then(c.t.bind(c,9477,23)),Promise.resolve().then(c.t.bind(c,9345,23)),Promise.resolve().then(c.t.bind(c,2089,23)),Promise.resolve().then(c.t.bind(c,6577,23)),Promise.resolve().then(c.t.bind(c,1307,23)),Promise.resolve().then(c.t.bind(c,4817,23))},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3332:(a,b,c)=>{"use strict";var d=c(3210),e="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},f=d.useState,g=d.useEffect,h=d.useLayoutEffect,i=d.useDebugValue;function j(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!e(a,c)}catch(a){return!0}}var k="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(a,b){return b()}:function(a,b){var c=b(),d=f({inst:{value:c,getSnapshot:b}}),e=d[0].inst,k=d[1];return h(function(){e.value=c,e.getSnapshot=b,j(e)&&k({inst:e})},[a,c,b]),g(function(){return j(e)&&k({inst:e}),a(function(){j(e)&&k({inst:e})})},[a]),i(c),c};b.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:k},3647:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(5239),e=c(8088),f=c(7220),g=c(1289),h=c(6191),i=c(4823),j=c(1998),k=c(2603),l=c(4649),m=c(2781),n=c(2602),o=c(1268),p=c(4853),q=c(261),r=c(5052),s=c(9977),t=c(6713),u=c(3365),v=c(1454),w=c(7778),x=c(6143),y=c(9105),z=c(8171),A=c(6439),B=c(6133),C=c.n(B),D=c(893),E=c(2836),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,1204)),"D:\\Workspace\\man-weekend-dashboard\\src\\app\\page.tsx"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,440))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,4431)),"D:\\Workspace\\man-weekend-dashboard\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(c.bind(c,4413)),"D:\\Workspace\\man-weekend-dashboard\\src\\app\\not-found.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,6133,23)),"next/dist/client/components/builtin/global-error.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,9868,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,9615,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,440))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,H=["D:\\Workspace\\man-weekend-dashboard\\src\\app\\page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next-prod",projectDir:""});async function K(a,b,c){var d;let B="/page";"/index"===B&&(B="/");let F="false",L=(0,h.getRequestMeta)(a,"postponed"),M=(0,h.getRequestMeta)(a,"minimalMode"),N=await J.prepare(a,b,{srcPage:B,multiZoneDraftMode:F});if(!N)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:O,query:P,params:Q,parsedUrl:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac}=N,ad=R.pathname||"/",ae=(0,q.normalizeAppPath)(B),{isOnDemandRevalidate:af}=N,ag=Z.dynamicRoutes[ae],ah=Z.routes[_],ai=!!(ag||ah||Z.routes[ae]),aj=a.headers["user-agent"]||"",ak=(0,t.getBotType)(aj),al=(0,o.isHtmlBotRequest)(a),am=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??!!a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],an=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ao=(0,r.getIsPossibleServerAction)(a),ap=(0,l.checkIsAppPPREnabled)(ac.experimental.ppr)&&(null==(d=Z.routes[ae]??Z.dynamicRoutes[ae])?void 0:d.renderingMode)==="PARTIALLY_STATIC",aq=!1,ar=!1,as=ap?L:void 0,at=ap&&an&&!am,au=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),av=!aj||(0,o.shouldServeStreamingMetadata)(aj,ac.htmlLimitedBots);al&&ap&&(ai=!1,av=!1);let aw=!0===J.isDev||!ai||"string"==typeof L||at,ax=al&&ap,ay=null;$||!ai||aw||ao||as||at||(ay=_);let az=ay;!az&&J.isDev&&(az=_);let aA={...D,tree:G,pages:H,GlobalError:C(),handler:K,routeModule:J,__next_app__:I};W&&X&&(0,n.setReferenceManifestsSingleton)({page:B,clientReferenceManifest:X,serverActionsManifest:W,serverModuleMap:(0,p.createServerModuleMap)({serverActionsManifest:W})});let aB=a.method||"GET",aC=(0,g.getTracer)(),aD=aC.getActiveScopeSpan();try{let d=async(c,d)=>{let e=new k.NodeNextRequest(a),f=new k.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aC.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aB} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aB} ${a.url}`)})},f=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:P,params:Q,page:ae,sharedContext:{buildId:O},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aA,Component:(0,j.T)(aA),params:Q,routeModule:J,page:B,postponed:f,shouldWaitOnAllReady:ax,serveStreamingMetadata:av,supportsDynamicResponse:"string"==typeof f||aw,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,serverActionsManifest:W,clientReferenceManifest:X,setIsrStatus:null==ab?void 0:ab.setIsrStatus,dir:J.projectDir,isDraftMode:$,isRevalidate:ai&&!f&&!at,botType:ak,isOnDemandRevalidate:af,isPossibleServerAction:ao,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,previewProps:Z.preview,deploymentId:ac.deploymentId,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,devtoolSegmentExplorer:ac.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:F,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ac.experimental.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...aq?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:aq}:{},experimental:{isRoutePPREnabled:ap,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicIO:!!ac.experimental.dynamicIO,clientSegmentCache:!!ac.experimental.clientSegmentCache,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[]},waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},k=await d(e,i),{metadata:l}=k,{cacheControl:m,headers:n={},fetchTags:o}=l;if(o&&(n[x.NEXT_CACHE_TAGS_HEADER]=o),a.fetchMetrics=l.fetchMetrics,ai&&(null==m?void 0:m.revalidate)===0&&!J.isDev&&!ap){let a=l.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:u.CachedRouteKind.APP_PAGE,html:k,headers:n,rscData:l.flightData,postponed:l.postponed,status:l.statusCode,segmentData:l.segmentData},cacheControl:m}},l=async({hasResolved:d,previousCacheEntry:g,isRevalidating:i,span:j})=>{let k,l=!1===J.isDev,n=d||b.writableEnded;if(af&&aa&&!g&&!M)return(null==ab?void 0:ab.render404)?await ab.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ag&&(k=(0,v.parseFallbackField)(ag.fallback)),k===v.FallbackMode.PRERENDER&&(0,t.isBot)(aj)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),(null==g?void 0:g.isStale)===-1&&(af=!0),af&&(k!==v.FallbackMode.NOT_FOUND||g)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),!M&&k!==v.FallbackMode.BLOCKING_STATIC_RENDER&&az&&!n&&!$&&S&&(l||!ah)){let b;if((l||ag)&&k===v.FallbackMode.NOT_FOUND)throw new A.NoFallbackError;if(ap&&!an){if(b=await J.handleResponse({cacheKey:l?ae:null,req:a,nextConfig:ac,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:Z,isRoutePPREnabled:ap,responseGenerator:async()=>f({span:j,postponed:void 0,fallbackRouteParams:l||ar?(0,m.u)(ae):null}),waitUntil:c.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=af||i||!as?void 0:as;if(aq&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:u.CachedRouteKind.PAGES,html:w.default.fromStatic(""),pageData:{},headers:void 0,status:void 0}};let p=S&&ap&&((0,h.getRequestMeta)(a,"renderFallbackShell")||ar)?(0,m.u)(ad):null;return f({span:j,postponed:o,fallbackRouteParams:p})},n=async d=>{var g,i,j,k,m;let n,o=await J.handleResponse({cacheKey:ay,responseGenerator:a=>l({span:d,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:af,isRoutePPREnabled:ap,req:a,nextConfig:ac,prerenderManifest:Z,waitUntil:c.waitUntil});if($&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),J.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!o){if(ay)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(g=o.value)?void 0:g.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(j=o.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof o.value.postponed;ai&&!at&&(!p||am)&&(M||b.setHeader("x-nextjs-cache",af?"REVALIDATED":o.isMiss?"MISS":o.isStale?"STALE":"HIT"),b.setHeader(s.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=o;if(as)n={revalidate:0,expire:void 0};else if(M&&an&&!am&&ap)n={revalidate:0,expire:void 0};else if(!J.isDev)if($)n={revalidate:0,expire:void 0};else if(ai){if(o.cacheControl)if("number"==typeof o.cacheControl.revalidate){if(o.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${o.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});n={revalidate:o.cacheControl.revalidate,expire:(null==(k=o.cacheControl)?void 0:k.expire)??ac.expireTime}}else n={revalidate:x.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(n={revalidate:0,expire:void 0});if(o.cacheControl=n,"string"==typeof au&&(null==q?void 0:q.kind)===u.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(m=q.headers)?void 0:m[x.NEXT_CACHE_TAGS_HEADER];M&&ai&&c&&"string"==typeof c&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(au);return void 0!==d?(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(d),cacheControl:o.cacheControl}):(b.statusCode=204,(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(""),cacheControl:o.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...o,value:{...o.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&as)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(M&&ai||delete a[x.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let t=null==(i=q.headers)?void 0:i[x.NEXT_CACHE_TAGS_HEADER];if(M&&ai&&t&&"string"==typeof t&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,t),!q.status||an&&ap||(b.statusCode=q.status),!M&&q.status&&E.RedirectStatusCode[q.status]&&an&&(b.statusCode=200),p&&b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"1"),an&&!$){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:q.html,cacheControl:at?{revalidate:0,expire:void 0}:o.cacheControl})}return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(q.rscData),cacheControl:o.cacheControl})}let v=q.html;if(!p||M)return(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:o.cacheControl});if(aq)return v.chain(new ReadableStream({start(a){a.enqueue(y.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}});let A=new TransformStream;return v.chain(A.readable),f({span:d,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(A.writable)}).catch(a=>{A.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}})};if(!aD)return await aC.withPropagatedContext(a.headers,()=>aC.trace(i.BaseServerSpan.handleRequest,{spanName:`${aB} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aB,"http.target":a.url}},n));await n(aD)}catch(b){throw aD||b instanceof A.NoFallbackError||await J.onRequestError(a,b,{routerKind:"App Router",routePath:B,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ai,isOnDemandRevalidate:af})},ab),b}}},3684:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,5814,23))},3716:a=>{"use strict";a.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}},3873:a=>{"use strict";a.exports=require("path")},4413:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g});var d=c(7413),e=c(4536),f=c.n(e);function g(){return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center p-8",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold",children:"Page not found"}),(0,d.jsx)("p",{className:"mt-2 opacity-70",children:"Sorry, we couldn’t find the page you’re looking for."}),(0,d.jsx)(f(),{href:"/",className:"mt-4 inline-block rounded-md bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-500",children:"Go home"})]})})}},4431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j,metadata:()=>i});var d=c(7413),e=c(2376),f=c.n(e),g=c(8726),h=c.n(g);c(1135);let i={title:"Man Weekend 2025",description:"Plan and track the trip with attendees, budget, and maps."};function j({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:a})})}},4604:(a,b)=>{"use strict";function c(a){let{ampFirst:b=!1,hybrid:c=!1,hasQuery:d=!1}=void 0===a?{}:a;return b||c&&d}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isInAmpMode",{enumerable:!0,get:function(){return c}})},4953:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImgProps",{enumerable:!0,get:function(){return i}}),c(148);let d=c(1480),e=c(2756),f=["-moz-initial","fill","none","scale-down",void 0];function g(a){return void 0!==a.default}function h(a){return void 0===a?a:"number"==typeof a?Number.isFinite(a)?a:NaN:"string"==typeof a&&/^[0-9]+$/.test(a)?parseInt(a,10):NaN}function i(a,b){var c,i;let j,k,l,{src:m,sizes:n,unoptimized:o=!1,priority:p=!1,loading:q,className:r,quality:s,width:t,height:u,fill:v=!1,style:w,overrideSrc:x,onLoad:y,onLoadingComplete:z,placeholder:A="empty",blurDataURL:B,fetchPriority:C,decoding:D="async",layout:E,objectFit:F,objectPosition:G,lazyBoundary:H,lazyRoot:I,...J}=a,{imgConf:K,showAltText:L,blurComplete:M,defaultLoader:N}=b,O=K||e.imageConfigDefault;if("allSizes"in O)j=O;else{let a=[...O.deviceSizes,...O.imageSizes].sort((a,b)=>a-b),b=O.deviceSizes.sort((a,b)=>a-b),d=null==(c=O.qualities)?void 0:c.sort((a,b)=>a-b);j={...O,allSizes:a,deviceSizes:b,qualities:d}}if(void 0===N)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let P=J.loader||N;delete J.loader,delete J.srcSet;let Q="__next_img_default"in P;if(Q){if("custom"===j.loader)throw Object.defineProperty(Error('Image with src "'+m+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let a=P;P=b=>{let{config:c,...d}=b;return a(d)}}if(E){"fill"===E&&(v=!0);let a={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[E];a&&(w={...w,...a});let b={responsive:"100vw",fill:"100vw"}[E];b&&!n&&(n=b)}let R="",S=h(t),T=h(u);if((i=m)&&"object"==typeof i&&(g(i)||void 0!==i.src)){let a=g(m)?m.default:m;if(!a.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!a.height||!a.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(k=a.blurWidth,l=a.blurHeight,B=B||a.blurDataURL,R=a.src,!v)if(S||T){if(S&&!T){let b=S/a.width;T=Math.round(a.height*b)}else if(!S&&T){let b=T/a.height;S=Math.round(a.width*b)}}else S=a.width,T=a.height}let U=!p&&("lazy"===q||void 0===q);(!(m="string"==typeof m?m:R)||m.startsWith("data:")||m.startsWith("blob:"))&&(o=!0,U=!1),j.unoptimized&&(o=!0),Q&&!j.dangerouslyAllowSVG&&m.split("?",1)[0].endsWith(".svg")&&(o=!0);let V=h(s),W=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:F,objectPosition:G}:{},L?{}:{color:"transparent"},w),X=M||"empty"===A?null:"blur"===A?'url("data:image/svg+xml;charset=utf-8,'+(0,d.getImageBlurSvg)({widthInt:S,heightInt:T,blurWidth:k,blurHeight:l,blurDataURL:B||"",objectFit:W.objectFit})+'")':'url("'+A+'")',Y=f.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,Z=X?{backgroundSize:Y,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},$=function(a){let{config:b,src:c,unoptimized:d,width:e,quality:f,sizes:g,loader:h}=a;if(d)return{src:c,srcSet:void 0,sizes:void 0};let{widths:i,kind:j}=function(a,b,c){let{deviceSizes:d,allSizes:e}=a;if(c){let a=/(^|\s)(1?\d?\d)vw/g,b=[];for(let d;d=a.exec(c);)b.push(parseInt(d[2]));if(b.length){let a=.01*Math.min(...b);return{widths:e.filter(b=>b>=d[0]*a),kind:"w"}}return{widths:e,kind:"w"}}return"number"!=typeof b?{widths:d,kind:"w"}:{widths:[...new Set([b,2*b].map(a=>e.find(b=>b>=a)||e[e.length-1]))],kind:"x"}}(b,e,g),k=i.length-1;return{sizes:g||"w"!==j?g:"100vw",srcSet:i.map((a,d)=>h({config:b,src:c,quality:f,width:a})+" "+("w"===j?a:d+1)+j).join(", "),src:h({config:b,src:c,quality:f,width:i[k]})}}({config:j,src:m,unoptimized:o,width:S,quality:V,sizes:n,loader:P});return{props:{...J,loading:U?"lazy":q,fetchPriority:C,width:S,height:T,decoding:D,className:r,style:{...W,...Z},sizes:$.sizes,srcSet:$.srcSet,src:x||$.src},meta:{unoptimized:o,priority:p,placeholder:A,fill:v}}}},4959:(a,b,c)=>{"use strict";a.exports=c(4041).vendored.contexts.AmpContext},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6533:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"Image",{enumerable:!0,get:function(){return u}});let d=c(4985),e=c(740),f=c(687),g=e._(c(3210)),h=d._(c(1215)),i=d._(c(512)),j=c(4953),k=c(2756),l=c(7903);c(148);let m=c(9148),n=d._(c(1933)),o=c(3038),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function q(a,b,c,d,e,f,g){let h=null==a?void 0:a.src;a&&a["data-loaded-src"]!==h&&(a["data-loaded-src"]=h,("decode"in a?a.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(a.parentElement&&a.isConnected){if("empty"!==b&&e(!0),null==c?void 0:c.current){let b=new Event("load");Object.defineProperty(b,"target",{writable:!1,value:a});let d=!1,e=!1;c.current({...b,nativeEvent:b,currentTarget:a,target:a,isDefaultPrevented:()=>d,isPropagationStopped:()=>e,persist:()=>{},preventDefault:()=>{d=!0,b.preventDefault()},stopPropagation:()=>{e=!0,b.stopPropagation()}})}(null==d?void 0:d.current)&&d.current(a)}}))}function r(a){return g.use?{fetchPriority:a}:{fetchpriority:a}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let s=(0,g.forwardRef)((a,b)=>{let{src:c,srcSet:d,sizes:e,height:h,width:i,decoding:j,className:k,style:l,fetchPriority:m,placeholder:n,loading:p,unoptimized:s,fill:t,onLoadRef:u,onLoadingCompleteRef:v,setBlurComplete:w,setShowAltText:x,sizesInput:y,onLoad:z,onError:A,...B}=a,C=(0,g.useCallback)(a=>{a&&(A&&(a.src=a.src),a.complete&&q(a,n,u,v,w,s,y))},[c,n,u,v,w,A,s,y]),D=(0,o.useMergedRef)(b,C);return(0,f.jsx)("img",{...B,...r(m),loading:p,width:i,height:h,decoding:j,"data-nimg":t?"fill":"1",className:k,style:l,sizes:e,srcSet:d,src:c,ref:D,onLoad:a=>{q(a.currentTarget,n,u,v,w,s,y)},onError:a=>{x(!0),"empty"!==n&&w(!0),A&&A(a)}})});function t(a){let{isAppRouter:b,imgAttributes:c}=a,d={as:"image",imageSrcSet:c.srcSet,imageSizes:c.sizes,crossOrigin:c.crossOrigin,referrerPolicy:c.referrerPolicy,...r(c.fetchPriority)};return b&&h.default.preload?(h.default.preload(c.src,d),null):(0,f.jsx)(i.default,{children:(0,f.jsx)("link",{rel:"preload",href:c.srcSet?void 0:c.src,...d},"__nimg-"+c.src+c.srcSet+c.sizes)})}let u=(0,g.forwardRef)((a,b)=>{let c=(0,g.useContext)(m.RouterContext),d=(0,g.useContext)(l.ImageConfigContext),e=(0,g.useMemo)(()=>{var a;let b=p||d||k.imageConfigDefault,c=[...b.deviceSizes,...b.imageSizes].sort((a,b)=>a-b),e=b.deviceSizes.sort((a,b)=>a-b),f=null==(a=b.qualities)?void 0:a.sort((a,b)=>a-b);return{...b,allSizes:c,deviceSizes:e,qualities:f}},[d]),{onLoad:h,onLoadingComplete:i}=a,o=(0,g.useRef)(h);(0,g.useEffect)(()=>{o.current=h},[h]);let q=(0,g.useRef)(i);(0,g.useEffect)(()=>{q.current=i},[i]);let[r,u]=(0,g.useState)(!1),[v,w]=(0,g.useState)(!1),{props:x,meta:y}=(0,j.getImgProps)(a,{defaultLoader:n.default,imgConf:e,blurComplete:r,showAltText:v});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s,{...x,unoptimized:y.unoptimized,placeholder:y.placeholder,fill:y.fill,onLoadRef:o,onLoadingCompleteRef:q,setBlurComplete:u,setShowAltText:w,sizesInput:a.sizes,ref:b}),y.priority?(0,f.jsx)(t,{isAppRouter:!c,imgAttributes:x}):null]})});("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},6549:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,5227,23)),Promise.resolve().then(c.t.bind(c,6346,23)),Promise.resolve().then(c.t.bind(c,7924,23)),Promise.resolve().then(c.t.bind(c,99,23)),Promise.resolve().then(c.t.bind(c,8243,23)),Promise.resolve().then(c.t.bind(c,8827,23)),Promise.resolve().then(c.t.bind(c,2763,23)),Promise.resolve().then(c.t.bind(c,7173,23)),Promise.resolve().then(c.bind(c,5587))},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},6901:()=>{},7260:(a,b,c)=>{Promise.resolve().then(c.bind(c,7480))},7480:(a,b,c)=>{"use strict";let d;c.d(b,{default:()=>b$});var e=c(687),f=c(3210),g=c(9760),h=Object.prototype.hasOwnProperty;let i=new WeakMap,j=()=>{},k=j(),l=Object,m=a=>a===k,n=(a,b)=>({...a,...b}),o={},p={},q="undefined",r=typeof document!=q,s=!1,t=(a,b)=>{let c=i.get(a);return[()=>!m(b)&&a.get(b)||o,d=>{if(!m(b)){let e=a.get(b);b in p||(p[b]=e),c[5](b,n(e,d),e||o)}},c[6],()=>!m(b)&&b in p?p[b]:!m(b)&&a.get(b)||o]},u=!0,[v,w]=[j,j],x={initFocus:a=>(r&&document.addEventListener("visibilitychange",a),v("focus",a),()=>{r&&document.removeEventListener("visibilitychange",a),w("focus",a)}),initReconnect:a=>{let b=()=>{u=!0,a()},c=()=>{u=!1};return v("online",b),v("offline",c),()=>{w("online",b),w("offline",c)}}},y=!f.useId,z=!0,A=z?f.useEffect:f.useLayoutEffect,B="undefined"!=typeof navigator&&navigator.connection,C=!z&&B&&(["slow-2g","2g"].includes(B.effectiveType)||B.saveData),D=new WeakMap,E=(a,b)=>a===`[object ${b}]`,F=0,G=a=>{let b,c,d=typeof a,e=l.prototype.toString.call(a),f=E(e,"Date"),g=E(e,"RegExp"),h=E(e,"Object");if(l(a)!==a||f||g)b=f?a.toJSON():"symbol"==d?a.toString():"string"==d?JSON.stringify(a):""+a;else{if(b=D.get(a))return b;if(b=++F+"~",D.set(a,b),Array.isArray(a)){for(c=0,b="@";c<a.length;c++)b+=G(a[c])+",";D.set(a,b)}if(h){b="#";let d=l.keys(a).sort();for(;!m(c=d.pop());)m(a[c])||(b+=c+":"+G(a[c])+",");D.set(a,b)}}return b},H=a=>{if("function"==typeof a)try{a=a()}catch(b){a=""}let b=a;return[a="string"==typeof a?a:(Array.isArray(a)?a.length:a)?G(a):"",b]},I=0,J=()=>++I;async function K(...a){let[b,c,d,e]=a,f=n({populateCache:!0,throwOnError:!0},"boolean"==typeof e?{revalidate:e}:e||{}),g=f.populateCache,h=f.rollbackOnError,j=f.optimisticData,l=f.throwOnError;if("function"==typeof c){let a=[];for(let d of b.keys())!/^\$(inf|sub)\$/.test(d)&&c(b.get(d)._k)&&a.push(d);return Promise.all(a.map(o))}return o(c);async function o(c){let e,[n]=H(c);if(!n)return;let[o,p]=t(b,n),[q,r,s,u]=i.get(b),v=()=>{let a=q[n];return("function"==typeof f.revalidate?f.revalidate(o().data,c):!1!==f.revalidate)&&(delete s[n],delete u[n],a&&a[0])?a[0](2).then(()=>o().data):o().data};if(a.length<3)return v();let w=d,x=!1,y=J();r[n]=[y,0];let z=!m(j),A=o(),B=A.data,C=A._c,D=m(C)?B:C;if(z&&p({data:j="function"==typeof j?j(D,B):j,_c:D}),"function"==typeof w)try{w=w(D)}catch(a){e=a,x=!0}if(w&&"function"==typeof w.then){let a;if(w=await w.catch(a=>{e=a,x=!0}),y!==r[n][0]){if(x)throw e;return w}x&&z&&(a=e,"function"==typeof h?h(a):!1!==h)&&(g=!0,p({data:D,_c:k}))}if(g&&!x&&("function"==typeof g?p({data:g(w,D),error:k,_c:k}):p({data:w,error:k,_c:k})),r[n][1]=J(),Promise.resolve(v()).then(()=>{p({_c:k})}),x){if(l)throw e;return}return w}}let L=(a,b)=>{for(let c in a)a[c][0]&&a[c][0](b)},M=(a,b)=>{if(!i.has(a)){let c=n(x,b),d=Object.create(null),e=K.bind(k,a),f=j,g=Object.create(null),h=(a,b)=>{let c=g[a]||[];return g[a]=c,c.push(b),()=>c.splice(c.indexOf(b),1)},l=(b,c,d)=>{a.set(b,c);let e=g[b];if(e)for(let a of e)a(c,d)},m=()=>{if(!i.has(a)&&(i.set(a,[d,Object.create(null),Object.create(null),Object.create(null),e,l,h]),!z)){let b=c.initFocus(setTimeout.bind(k,L.bind(k,d,0))),e=c.initReconnect(setTimeout.bind(k,L.bind(k,d,1)));f=()=>{b&&b(),e&&e(),i.delete(a)}}};return m(),[a,e,m,f]}return[a,i.get(a)[4]]},[N,O]=M(new Map),P=n({onLoadingSlow:j,onSuccess:j,onError:j,onErrorRetry:(a,b,c,d,e)=>{let f=c.errorRetryCount,g=e.retryCount,h=~~((Math.random()+.5)*(1<<(g<8?g:8)))*c.errorRetryInterval;(m(f)||!(g>f))&&setTimeout(d,h,e)},onDiscarded:j,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:C?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:C?5e3:3e3,compare:function a(b,c){var d,e;if(b===c)return!0;if(b&&c&&(d=b.constructor)===c.constructor){if(d===Date)return b.getTime()===c.getTime();if(d===RegExp)return b.toString()===c.toString();if(d===Array){if((e=b.length)===c.length)for(;e--&&a(b[e],c[e]););return -1===e}if(!d||"object"==typeof b){for(d in e=0,b)if(h.call(b,d)&&++e&&!h.call(c,d)||!(d in c)||!a(b[d],c[d]))return!1;return Object.keys(c).length===e}}return b!=b&&c!=c},isPaused:()=>!1,cache:N,mutate:O,fallback:{}},{isOnline:()=>u,isVisible:()=>{let a=r&&document.visibilityState;return m(a)||"hidden"!==a}}),Q=(a,b)=>{let c=n(a,b);if(b){let{use:d,fallback:e}=a,{use:f,fallback:g}=b;d&&f&&(c.use=d.concat(f)),e&&g&&(c.fallback=n(e,g))}return c},R=(0,f.createContext)({}),S=!1,T=(S?window.__SWR_DEVTOOLS_USE__:[]).concat(a=>(b,c,d)=>{let e=c&&((...a)=>{let[d]=H(b),[,,,e]=i.get(N);if(d.startsWith("$inf$"))return c(...a);let f=e[d];return m(f)?c(...a):(delete e[d],f)});return a(b,e,d)});S&&(window.__SWR_DEVTOOLS_REACT__=f);let U=()=>{},V=U();new WeakMap;let W=f.use||(a=>{switch(a.status){case"pending":throw a;case"fulfilled":return a.value;case"rejected":throw a.reason;default:throw a.status="pending",a.then(b=>{a.status="fulfilled",a.value=b},b=>{a.status="rejected",a.reason=b}),a}}),X={dedupe:!0};l.defineProperty(a=>{let{value:b}=a,c=(0,f.useContext)(R),d="function"==typeof b,e=(0,f.useMemo)(()=>d?b(c):b,[d,c,b]),g=(0,f.useMemo)(()=>d?e:Q(c,e),[d,c,e]),h=e&&e.provider,i=(0,f.useRef)(k);h&&!i.current&&(i.current=M(h(g.cache||N),e));let j=i.current;return j&&(g.cache=j[0],g.mutate=j[1]),A(()=>{if(j)return j[2]&&j[2](),j[3]},[]),(0,f.createElement)(R.Provider,n(a,{value:g}))},"defaultValue",{value:P});let Y=(d=(a,b,c)=>{let{cache:d,compare:e,suspense:h,fallbackData:j,revalidateOnMount:l,revalidateIfStale:o,refreshInterval:p,refreshWhenHidden:q,refreshWhenOffline:r,keepPreviousData:s}=c,[u,v,w,x]=i.get(d),[B,C]=H(a),D=(0,f.useRef)(!1),E=(0,f.useRef)(!1),F=(0,f.useRef)(B),G=(0,f.useRef)(b),I=(0,f.useRef)(c),L=()=>I.current.isVisible()&&I.current.isOnline(),[M,N,O,P]=t(d,B),Q=(0,f.useRef)({}).current,R=m(j)?m(c.fallback)?k:c.fallback[B]:j,S=(a,b)=>{for(let c in Q)if("data"===c){if(!e(a[c],b[c])&&(!m(a[c])||!e(ab,b[c])))return!1}else if(b[c]!==a[c])return!1;return!0},T=(0,f.useMemo)(()=>{let a=!!B&&!!b&&(m(l)?!I.current.isPaused()&&!h&&!1!==o:l),c=b=>{let c=n(b);return(delete c._k,a)?{isValidating:!0,isLoading:!0,...c}:c},d=M(),e=P(),f=c(d),g=d===e?f:c(e),i=f;return[()=>{let a=c(M());return S(a,i)?(i.data=a.data,i.isLoading=a.isLoading,i.isValidating=a.isValidating,i.error=a.error,i):(i=a,a)},()=>g]},[d,B]),U=(0,g.useSyncExternalStore)((0,f.useCallback)(a=>O(B,(b,c)=>{S(c,b)||a()}),[d,B]),T[0],T[1]),V=!D.current,Y=u[B]&&u[B].length>0,Z=U.data,$=m(Z)?R&&"function"==typeof R.then?W(R):R:Z,_=U.error,aa=(0,f.useRef)($),ab=s?m(Z)?m(aa.current)?$:aa.current:Z:$,ac=(!Y||!!m(_))&&(V&&!m(l)?l:!I.current.isPaused()&&(h?!m($)&&o:m($)||o)),ad=!!(B&&b&&V&&ac),ae=m(U.isValidating)?ad:U.isValidating,af=m(U.isLoading)?ad:U.isLoading,ag=(0,f.useCallback)(async a=>{let b,d,f=G.current;if(!B||!f||E.current||I.current.isPaused())return!1;let g=!0,h=a||{},i=!w[B]||!h.dedupe,j=()=>y?!E.current&&B===F.current&&D.current:B===F.current,l={isValidating:!1,isLoading:!1},n=()=>{N(l)},o=()=>{let a=w[B];a&&a[1]===d&&delete w[B]},p={isValidating:!0};m(M().data)&&(p.isLoading=!0);try{if(i&&(N(p),c.loadingTimeout&&m(M().data)&&setTimeout(()=>{g&&j()&&I.current.onLoadingSlow(B,c)},c.loadingTimeout),w[B]=[f(C),J()]),[b,d]=w[B],b=await b,i&&setTimeout(o,c.dedupingInterval),!w[B]||w[B][1]!==d)return i&&j()&&I.current.onDiscarded(B),!1;l.error=k;let a=v[B];if(!m(a)&&(d<=a[0]||d<=a[1]||0===a[1]))return n(),i&&j()&&I.current.onDiscarded(B),!1;let h=M().data;l.data=e(h,b)?h:b,i&&j()&&I.current.onSuccess(b,B,c)}catch(c){o();let a=I.current,{shouldRetryOnError:b}=a;!a.isPaused()&&(l.error=c,i&&j())&&(a.onError(c,B,a),(!0===b||"function"==typeof b&&b(c))&&(!I.current.revalidateOnFocus||!I.current.revalidateOnReconnect||L())&&a.onErrorRetry(c,B,a,a=>{let b=u[B];b&&b[0]&&b[0](3,a)},{retryCount:(h.retryCount||0)+1,dedupe:!0}))}return g=!1,n(),!0},[B,d]),ah=(0,f.useCallback)((...a)=>K(d,F.current,...a),[]);if(A(()=>{G.current=b,I.current=c,m(Z)||(aa.current=Z)}),A(()=>{if(!B)return;let a=ag.bind(k,X),b=0;I.current.revalidateOnFocus&&(b=Date.now()+I.current.focusThrottleInterval);let c=((a,b,c)=>{let d=b[a]||(b[a]=[]);return d.push(c),()=>{let a=d.indexOf(c);a>=0&&(d[a]=d[d.length-1],d.pop())}})(B,u,(c,d={})=>{if(0==c){let c=Date.now();I.current.revalidateOnFocus&&c>b&&L()&&(b=c+I.current.focusThrottleInterval,a())}else if(1==c)I.current.revalidateOnReconnect&&L()&&a();else if(2==c)return ag();else if(3==c)return ag(d)});return E.current=!1,F.current=B,D.current=!0,N({_k:C}),ac&&!w[B]&&(m($)||z?a():(a=>setTimeout(a,1))(a)),()=>{E.current=!0,c()}},[B]),A(()=>{let a;function b(){let b="function"==typeof p?p(M().data):p;b&&-1!==a&&(a=setTimeout(c,b))}function c(){!M().error&&(q||I.current.isVisible())&&(r||I.current.isOnline())?ag(X).then(b):b()}return b(),()=>{a&&(clearTimeout(a),a=-1)}},[p,q,r,B]),(0,f.useDebugValue)(ab),h&&m($)&&B){if(!y&&z)throw Error("Fallback data is required when using Suspense in SSR.");G.current=b,I.current=c,E.current=!1;let a=x[B];if(m(a)||W(ah(a)),m(_)){let a=ag(X);m(ab)||(a.status="fulfilled",a.value=!0),W(a)}else throw _}return{mutate:ah,get data(){return Q.data=!0,ab},get error(){return Q.error=!0,_},get isValidating(){return Q.isValidating=!0,ae},get isLoading(){return Q.isLoading=!0,af}}},function(...a){let b=n(P,(0,f.useContext)(R)),[c,e,g]="function"==typeof a[1]?[a[0],a[1],a[2]||{}]:[a[0],null,(null===a[1]?a[2]:a[1])||{}],h=Q(b,g),i=d,{use:j}=h,k=(j||[]).concat(T);for(let a=k.length;a--;)i=k[a](i);return i(c,e||h.fetcher||null,h)}),Z="2025-09-11T00:00:00-04:00",$="2025-09-14T23:59:59-04:00",_="15 Goldring Drive, Highland Lake, NY 12743";"undefined"!=typeof process&&process.env.NEXT_PUBLIC_APP_NAME;let aa="2025-09-11",ab="2025-09-14",ac=a=>fetch(a).then(a=>a.json());function ad(){let{data:a,mutate:b,isLoading:c}=Y("/api/attendees",ac),[d,g]=(0,f.useState)(""),[h,i]=(0,f.useState)(""),[j,k]=(0,f.useState)(!1),[l,m]=(0,f.useState)(null),[n,o]=(0,f.useState)(null),[p,q]=(0,f.useState)(aa),[r,s]=(0,f.useState)(ab),[t,u]=(0,f.useState)(!1),[v,w]=(0,f.useState)(null),[x,y]=(0,f.useState)(null),[z,A]=(0,f.useState)([]),[B,C]=(0,f.useState)(!1),[D,E]=(0,f.useState)(-1),[F,G]=(0,f.useState)(!1);function H(a){i(a.label),C(!1)}async function I(a){if(a.preventDefault(),d.trim()&&h.trim()){k(!0);try{await fetch("/api/attendees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d,startingAddress:h,arrivalDate:p||void 0,departureDate:r||void 0})}),g(""),i(""),q(aa),s(ab),A([]),C(!1),b(),u(!1)}finally{k(!1)}}}async function J(a){if(a){o(null),m(a);try{let c=await fetch(`/api/attendees/${a}`,{method:"DELETE"});if(!c.ok)return void(409===c.status?o("Cannot remove attendee: they are referenced by expenses."):404===c.status?o("Attendee not found."):o("Failed to remove attendee."));await b()}catch{o("Failed to remove attendee.")}finally{m(null),y(null)}}}return(0,f.useRef)(null),(0,e.jsxs)("div",{className:"rounded-2xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-6 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold",children:"Attendees"}),(0,e.jsx)("button",{type:"button",onClick:()=>u(!0),className:"text-xs rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 hover:opacity-95 text-white font-medium px-3 py-1.5",children:"Join Man Weekend"})]}),n&&(0,e.jsx)("div",{className:"mt-3 text-sm text-rose-600 dark:text-rose-400",children:n}),(0,e.jsxs)("div",{className:"mt-4 divide-y divide-white/10",children:[c&&(0,e.jsx)("div",{className:"py-3 text-sm opacity-70",children:"Loading…"}),a?.length?a.map(a=>(0,e.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"font-medium",children:a.name}),(0,e.jsx)("div",{className:"text-xs opacity-70",children:(function(a){if(!a)return[];let b=/\b\d{5}(?:-\d{4})?\b/,c=/\b([A-Z]{2})\b/,d={alabama:"AL",alaska:"AK",arizona:"AZ",arkansas:"AR",california:"CA",colorado:"CO",connecticut:"CT",delaware:"DE","district of columbia":"DC",florida:"FL",georgia:"GA",hawaii:"HI",idaho:"ID",illinois:"IL",indiana:"IN",iowa:"IA",kansas:"KS",kentucky:"KY",louisiana:"LA",maine:"ME",maryland:"MD",massachusetts:"MA",michigan:"MI",minnesota:"MN",mississippi:"MS",missouri:"MO",montana:"MT",nebraska:"NE",nevada:"NV","new hampshire":"NH","new jersey":"NJ","new mexico":"NM","new york":"NY","north carolina":"NC","north dakota":"ND",ohio:"OH",oklahoma:"OK",oregon:"OR",pennsylvania:"PA","rhode island":"RI","south carolina":"SC","south dakota":"SD",tennessee:"TN",texas:"TX",utah:"UT",vermont:"VT",virginia:"VA",washington:"WA","west virginia":"WV",wisconsin:"WI",wyoming:"WY"},e=a.split(",").map(a=>a.trim()).filter(Boolean).filter(a=>!/^(usa|united\s*states|us)$/i.test(a)&&!/county$/i.test(a)),f="",g=-1;e.forEach((a,c)=>{let d=a.match(b);d&&(f=d[0],g=c)});let h="";if(g>=0){let a=e[g].replace(b,"").trim()||e[g-1]||"",f=a.match(c)?.[1];if(f)h=f.toUpperCase();else{let b=d[a.toLowerCase()];b&&(h=b)}}else for(let a=e.length-1;a>=0;a--){let b=e[a],f=b.match(c)?.[1];if(f){h=f.toUpperCase(),g=a;break}let i=d[b.toLowerCase()];if(i){h=i,g=a;break}}let i=g>0?g-1:Math.max(0,e.length-2),j=e[i]||"",k=e.slice(0,i).map(a=>a.replace(b,"").trim()).filter(Boolean).join(", ").replace(/\s{2,}/g," ").trim(),l=[j,[h,f].filter(Boolean).join(" ")].filter(Boolean).join(", ").trim();if((!k||!l)&&e.length>=2){let a=e[e.length-2],d=e[e.length-1],g=d.match(b)?.[0]||f,i=[a,[(d.match(c)?.[1]||h).toUpperCase(),g].filter(Boolean).join(" ")].filter(Boolean).join(", ");if(l||(l=i),!k){let a=e.slice(0,Math.max(0,e.length-2)).join(", ").replace(/\s{2,}/g," ").trim();a&&(k=a)}}let m=[];return k&&m.push(k),l&&m.push(l),m})(a.startingAddress).map((a,b)=>(0,e.jsx)("div",{children:a},b))}),(a.arrivalDate||a.departureDate)&&(0,e.jsxs)("div",{className:"mt-1 text-[11px] opacity-70",children:[a.arrivalDate?`Arrives ${(a.arrivalDate||"").slice(0,10)}`:"",a.arrivalDate&&a.departureDate?" • ":"",a.departureDate?`Departs ${(a.departureDate||"").slice(0,10)}`:""]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("button",{type:"button",onClick:()=>w(a),title:"Edit attendee",className:"rounded-md ring-1 ring-amber-400/40 text-amber-300 px-2 py-1 text-xs hover:bg-amber-400/10","aria-label":`Edit ${a.name}`,children:"✏️"}),(0,e.jsx)("button",{type:"button",onClick:()=>y({id:a.id,name:a.name}),disabled:l===a.id,title:"Remove attendee",className:`rounded-md px-2 py-1 text-xs transition-colors ${l===a.id?"opacity-50 cursor-not-allowed":"hover:bg-rose-500/10"} ring-1 ring-rose-400/40 text-rose-300`,"aria-label":`Remove ${a.name}`,children:"\uD83D\uDDD1️"})]})]},a.id)):(0,e.jsx)("div",{className:"py-3 text-sm opacity-70",children:"No attendees yet"})]}),t&&(0,e.jsxs)("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>!j&&u(!1)}),(0,e.jsxs)("div",{className:"relative z-[1001] w-[92%] max-w-md rounded-xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 shadow-xl p-5",children:[(0,e.jsx)("h4",{className:"text-base font-semibold",children:"Join Man Weekend"}),(0,e.jsxs)("form",{onSubmit:I,className:"mt-4 grid grid-cols-1 gap-3",children:[(0,e.jsx)("input",{className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"Your name",value:d,onChange:a=>g(a.target.value)}),(0,e.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,e.jsx)("input",{type:"date",className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"Arrival date",value:p,onChange:a=>q(a.target.value)}),(0,e.jsx)("input",{type:"date",className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"Departure date",value:r,onChange:a=>s(a.target.value)})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("input",{className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"Starting address",value:h,onChange:a=>i(a.target.value),onFocus:()=>z.length>0&&C(!0),onKeyDown:a=>{B&&("ArrowDown"===a.key&&(a.preventDefault(),E(a=>Math.min(a+1,z.length-1))),"ArrowUp"===a.key&&(a.preventDefault(),E(a=>Math.max(a-1,0))),"Enter"===a.key&&D>=0&&D<z.length&&(a.preventDefault(),H(z[D])),"Escape"===a.key&&C(!1))}}),B&&(0,e.jsxs)("div",{className:"absolute z-20 mt-1 w-full max-h-64 overflow-auto rounded-lg bg-white/5 backdrop-blur-xl ring-1 ring-white/10 shadow-lg",children:[F&&(0,e.jsx)("div",{className:"px-3 py-2 text-sm opacity-60",children:"Searching…"}),!F&&0===z.length&&(0,e.jsx)("div",{className:"px-3 py-2 text-sm opacity-60",children:"No matches"}),!F&&z.map((a,b)=>(0,e.jsx)("button",{type:"button",onClick:()=>H(a),className:`block w-full text-left px-3 py-2 text-sm hover:bg-white/10 ${b===D?"bg-white/10":""}`,children:a.label},a.id))]})]}),(0,e.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,e.jsx)("button",{type:"button",className:"rounded-xl ring-1 ring-white/10 bg-white/5 hover:bg-white/10 px-3 py-1.5 text-sm",onClick:()=>u(!1),disabled:j,children:"Cancel"}),(0,e.jsx)("button",{type:"submit",disabled:j,className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 text-white font-medium px-3 py-1.5 text-sm",children:j?"Adding…":"Join"})]})]})]})]}),v&&(0,e.jsxs)("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>!j&&w(null)}),(0,e.jsxs)("div",{className:"relative z-[1001] w-[92%] max-w-md rounded-xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 shadow-xl p-5",children:[(0,e.jsx)("h4",{className:"text-base font-semibold",children:"Edit attendee"}),(0,e.jsx)(ae,{attendee:v,onClose:()=>w(null),onSaved:()=>{b(),w(null)}})]})]}),x&&(0,e.jsxs)("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>l?null:y(null)}),(0,e.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"remove-attendee-title",className:"relative z-[1001] w-[92%] max-w-sm rounded-xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 shadow-xl p-5",children:[(0,e.jsx)("h4",{id:"remove-attendee-title",className:"text-base font-semibold",children:"Remove attendee?"}),(0,e.jsxs)("p",{className:"mt-2 text-sm opacity-80",children:["Are you sure you want to remove ",(0,e.jsx)("span",{className:"font-medium",children:x.name}),"? This action cannot be undone."]}),(0,e.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,e.jsx)("button",{type:"button",className:"rounded-xl ring-1 ring-white/10 bg-white/5 hover:bg-white/10 px-3 py-1.5 text-sm",onClick:()=>y(null),disabled:!!l,children:"Cancel"}),(0,e.jsx)("button",{type:"button",className:`rounded-xl px-3 py-1.5 text-sm text-white ${l?"bg-rose-600/70 opacity-70 cursor-not-allowed":"bg-rose-600 hover:bg-rose-500"}`,onClick:()=>J(x.id),disabled:!!l,children:l?"Removing…":"Remove"})]})]})]})]})}function ae({attendee:a,onClose:b,onSaved:c}){let[d,g]=(0,f.useState)(a.name),[h,i]=(0,f.useState)(a.startingAddress);function j(a){if(!a)return"";let b=String(a);if(/^\d{4}-\d{2}-\d{2}$/.test(b))return b;let c=new Date(b);return isNaN(c.getTime())?"":c.toISOString().slice(0,10)}let[k,l]=(0,f.useState)(()=>j(a.arrivalDate)),[m,n]=(0,f.useState)(()=>j(a.departureDate)),[o,p]=(0,f.useState)(!1),[q,r]=(0,f.useState)([]),[s,t]=(0,f.useState)(!1),[u,v]=(0,f.useState)(-1);function w(a){i(a.label),t(!1)}async function x(b){if(b.preventDefault(),d.trim()&&h.trim()){p(!0);try{await fetch(`/api/attendees/${a.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d,startingAddress:h,arrivalDate:k||void 0,departureDate:m||void 0})}),c()}finally{p(!1)}}}return(0,f.useRef)(null),(0,e.jsxs)("form",{onSubmit:x,className:"mt-4 grid grid-cols-1 gap-3",children:[(0,e.jsx)("input",{className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"Name",value:d,onChange:a=>g(a.target.value)}),(0,e.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,e.jsx)("input",{type:"date",className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",value:k,onChange:a=>l(a.target.value)}),(0,e.jsx)("input",{type:"date",className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",value:m,onChange:a=>n(a.target.value)})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("input",{className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"Starting address",value:h,onChange:a=>i(a.target.value),onFocus:()=>q.length>0&&t(!0),onKeyDown:a=>{s&&("ArrowDown"===a.key&&(a.preventDefault(),v(a=>Math.min(a+1,q.length-1))),"ArrowUp"===a.key&&(a.preventDefault(),v(a=>Math.max(a-1,0))),"Enter"===a.key&&u>=0&&u<q.length&&(a.preventDefault(),w(q[u])),"Escape"===a.key&&t(!1))}}),s&&q.length>0&&(0,e.jsx)("div",{className:"absolute z-20 mt-1 w-full max-h-64 overflow-auto rounded-lg bg-white/5 backdrop-blur-xl ring-1 ring-white/10 shadow-lg",children:q.map((a,b)=>(0,e.jsx)("button",{type:"button",onClick:()=>w(a),className:`block w-full text-left px-3 py-2 text-sm hover:bg-white/10 ${b===u?"bg-white/10":""}`,children:a.label},a.id))})]}),(0,e.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,e.jsx)("button",{type:"button",className:"rounded-xl ring-1 ring-white/10 bg-white/5 hover:bg-white/10 px-3 py-1.5 text-sm",onClick:b,disabled:o,children:"Cancel"}),(0,e.jsx)("button",{type:"submit",disabled:o,className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 text-white font-medium px-3 py-1.5 text-sm",children:o?"Saving…":"Save"})]})]})}function af(a,b){let c={totalSpend:0,perAttendeeOwes:new Map,perAttendeePaid:new Map};for(let b of a)c.perAttendeeOwes.set(b.id,0),c.perAttendeePaid.set(b.id,0);for(let d of b){c.totalSpend+=d.amount;let b=d.beneficiaryIds.length>0?d.beneficiaryIds:a.map(a=>a.id),e=b.length>0?d.amount/b.length:0;for(let a of(c.perAttendeePaid.set(d.payerId,(c.perAttendeePaid.get(d.payerId)??0)+d.amount),b))c.perAttendeeOwes.set(a,(c.perAttendeeOwes.get(a)??0)+e)}let d=new Map;for(let b of a){let a=c.perAttendeeOwes.get(b.id)??0,e=c.perAttendeePaid.get(b.id)??0;d.set(b.id,+(a-e).toFixed(2))}return{...c,perAttendeeNet:d}}let ag=a=>fetch(a).then(a=>a.json());function ah(){let{data:a=[],isLoading:b}=Y("/api/attendees",ag),{data:c=[],mutate:d,isLoading:g}=Y("/api/expenses",ag),[h,i]=(0,f.useState)(""),[j,k]=(0,f.useState)(""),[l,m]=(0,f.useState)(""),[n,o]=(0,f.useState)([]),[p,q]=(0,f.useState)(()=>new Date().toISOString().slice(0,10)),[r,s]=(0,f.useState)(!1),[t,u]=(0,f.useState)(!1);async function v(b){if(b.preventDefault(),h.trim()&&j&&l){s(!0);try{await fetch("/api/expenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:h,amount:Number(j),payerId:l,beneficiaryIds:n,date:p})}),i(""),k(""),q(new Date().toISOString().slice(0,10)),m(a[0]?.id||""),o(a.map(a=>a.id)),d(),u(!1)}finally{s(!1)}}}async function w(a,b){await fetch("/api/expenses",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({expenseId:a,beneficiaryId:b})}),d()}return(0,f.useMemo)(()=>af(a,c),[a,c]),(0,e.jsxs)("div",{className:"rounded-2xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-6 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold",children:"Expenses"}),(0,e.jsx)("button",{type:"button",onClick:()=>u(!0),className:"text-xs rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 hover:opacity-95 text-white font-medium px-3 py-1.5",children:"Add Expense"})]}),t&&(0,e.jsxs)("div",{className:"fixed inset-0 z-30 flex items-center justify-center",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>!r&&u(!1)}),(0,e.jsxs)("div",{className:"relative z-40 w-[92%] max-w-md rounded-xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 shadow-xl p-5",children:[(0,e.jsx)("h4",{className:"text-base font-semibold",children:"Add expense"}),(0,e.jsxs)("form",{onSubmit:v,className:"mt-4 grid grid-cols-1 gap-3",children:[(0,e.jsx)("input",{className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"Description",value:h,onChange:a=>i(a.target.value)}),(0,e.jsx)("input",{className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"$0.00",inputMode:"decimal",value:j,onChange:a=>{let b=a.target.value.replace(/[^0-9.]/g,"").split(".");k(b.length>1?`${b[0]}.${b[1].slice(0,2)}`:b[0])},onBlur:()=>{if(!j)return;let a=Number(j);isNaN(a)||k(a.toFixed(2))}}),(0,e.jsx)("input",{type:"date",className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",value:p,onChange:a=>q(a.target.value)}),(0,e.jsxs)("select",{className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",value:l,onChange:a=>m(a.target.value),children:[(0,e.jsx)("option",{value:"",children:"Payer"}),a.map(a=>(0,e.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,e.jsx)("div",{className:"text-xs opacity-70",children:"This expense applies to these people:"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-2 items-center",children:a.map(a=>{let b=n.includes(a.id);return(0,e.jsx)("button",{type:"button",onClick:()=>o(c=>b?c.filter(b=>b!==a.id):[...c,a.id]),className:`text-sm rounded-full px-3 py-1 ${b?"bg-gradient-to-r from-indigo-500 to-cyan-500 text-white":"ring-1 ring-white/15 hover:bg-white/10"}`,children:a.name},a.id)})}),(0,e.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,e.jsx)("button",{type:"button",className:"rounded-xl ring-1 ring-white/10 bg-white/5 hover:bg-white/10 px-3 py-1.5 text-sm",onClick:()=>u(!1),disabled:r,children:"Cancel"}),(0,e.jsx)("button",{type:"submit",disabled:r,className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 text-white font-medium px-3 py-1.5 text-sm",children:r?"Adding…":"Add expense"})]})]})]})]}),(0,e.jsxs)("div",{className:"mt-4 space-y-3",children:[(b||g)&&(0,e.jsx)("div",{className:"text-sm opacity-70",children:"Loading…"}),0===c.length&&(0,e.jsx)("div",{className:"text-sm opacity-70",children:"No expenses yet"}),c.map(b=>{let c=a.filter(a=>b.beneficiaryIds.includes(a.id)),f=c.length?b.amount/c.length:0;return(0,e.jsxs)("div",{className:"rounded-xl ring-1 ring-white/10 bg-white/5 p-4",children:[(0,e.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,e.jsxs)("div",{className:"min-w-0",children:[(0,e.jsx)("div",{className:"font-medium break-words",children:b.description}),(0,e.jsxs)("div",{className:"mt-1 text-xl font-semibold tabular-nums",children:["$",b.amount.toFixed(2)]})]}),(0,e.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 text-sm opacity-80",children:[(0,e.jsxs)("div",{children:["Payer: ",a.find(a=>a.id===b.payerId)?.name||"Unknown"]}),(0,e.jsx)("button",{type:"button",onClick:async()=>{await fetch(`/api/expenses?id=${encodeURIComponent(b.id)}`,{method:"DELETE"}),d()},className:"rounded-md ring-1 ring-rose-400/40 text-rose-300 px-2 py-1 text-xs hover:bg-rose-500/10",title:"Delete expense","aria-label":"Delete expense",children:"\uD83D\uDDD1️"})]}),b.date&&(0,e.jsx)("div",{className:"text-xs opacity-70",children:b.date})]})]}),(0,e.jsxs)("div",{className:"mt-3",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("div",{className:"text-xs opacity-70",children:"Applies to:"}),(0,e.jsx)("button",{type:"button",onClick:async()=>{let c=a.map(a=>a.id);await fetch("/api/expenses",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({expenseId:b.id,beneficiaryIds:c})}),d()},className:"rounded-full bg-gradient-to-r from-indigo-500 to-cyan-500 text-white h-6 w-6 flex items-center justify-center text-sm",title:"Add people","aria-label":"Add people",children:"+"})]}),(0,e.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:c.map(a=>(0,e.jsxs)("div",{className:"text-xs rounded-full px-2 py-1 ring-1 ring-white/10 flex items-center gap-1",children:[(0,e.jsx)("button",{type:"button",onClick:()=>w(b.id,a.id),className:`h-5 w-5 flex items-center justify-center rounded-full ${b.paidByBeneficiary[a.id]?"bg-emerald-600 text-white":"bg-white/10"}`,title:`Mark ${a.name} ${b.paidByBeneficiary[a.id]?"unpaid":"paid"} (share $${f.toFixed(2)})`,children:b.paidByBeneficiary[a.id]?"✓":""}),(0,e.jsx)("span",{children:a.name}),(0,e.jsx)("button",{type:"button",onClick:async()=>{let c=b.beneficiaryIds.filter(b=>b!==a.id);await fetch("/api/expenses",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({expenseId:b.id,beneficiaryIds:c})}),d()},className:"ml-1 rounded-full ring-1 ring-rose-400/40 text-rose-300 h-5 w-5 flex items-center justify-center hover:bg-rose-500/10","aria-label":`Remove ${a.name}`,title:`Remove ${a.name}`,children:"\xd7"})]},a.id))})]})]},b.id)})]})]})}let ai=a=>fetch(a).then(a=>a.json());function aj(){let{data:a=[]}=Y("/api/attendees",ai),{data:b=[]}=Y("/api/expenses",ai),c=af(a,b);return(0,e.jsxs)("div",{className:"rounded-2xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-6 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold",children:"Total Spend"}),(0,e.jsxs)("div",{className:"mt-2 text-2xl font-bold",children:["$",c.totalSpend.toFixed(2)]}),(0,e.jsx)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2",children:a.map(a=>(0,e.jsxs)("div",{className:"flex items-center justify-between rounded-lg ring-1 ring-white/10 bg-white/5 px-3 py-2",children:[(0,e.jsx)("div",{className:"font-medium",children:a.name}),(0,e.jsxs)("div",{className:"text-sm",children:[(0,e.jsx)("span",{className:"opacity-70 mr-2",children:"net"}),(0,e.jsxs)("span",{className:c.perAttendeeNet.get(a.id)>0?"text-amber-300":"text-emerald-400",children:["$",Math.abs(c.perAttendeeNet.get(a.id)).toFixed(2)," ",c.perAttendeeNet.get(a.id)>0?"owes":"owed"]})]})]},a.id))})]})}var ak=c(1215),al=c(3716);function am(){return(am=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}function an(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function ao(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}let ap={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"};class aq{static async load(a,b){var c;let d=a.libraries?a.libraries.split(","):[],e=this.serializeParams(a);this.listeners.push(b),null!=(c=window.google)&&null!=(c=c.maps)&&c.importLibrary?(this.serializedApiParams||(this.loadingStatus=ap.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=e,this.initImportLibrary(a)),this.serializedApiParams&&this.serializedApiParams!==e&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");let f=["maps",...d];await Promise.all(f.map(a=>google.maps.importLibrary(a)))}static serializeParams(a){return[a.v,a.key,a.language,a.region,a.authReferrerPolicy,a.solutionChannel].join("/")}static initImportLibrary(a){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary)return void console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");let b=null,c=()=>b||(b=new Promise((b,c)=>{var d;let e=document.createElement("script"),f=new URLSearchParams;for(let[b,c]of Object.entries(a)){let a=b.replace(/[A-Z]/g,a=>"_"+a[0].toLowerCase());f.set(a,String(c))}f.set("loading","async"),f.set("callback","__googleMapsCallback__"),e.async=!0,e.src="https://maps.googleapis.com/maps/api/js?"+f.toString(),e.nonce=(null==(d=document.querySelector("script[nonce]"))?void 0:d.nonce)||"",e.onerror=()=>{this.loadingStatus=ap.FAILED,this.notifyLoadingStatusListeners(),c(Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=ap.LOADED,this.notifyLoadingStatusListeners(),b()},window.gm_authFailure=()=>{this.loadingStatus=ap.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=ap.LOADING,this.notifyLoadingStatusListeners(),document.head.append(e)}));google.maps.importLibrary=a=>c().then(()=>google.maps.importLibrary(a))}static notifyLoadingStatusListeners(){for(let a of this.listeners)a(this.loadingStatus)}}aq.loadingStatus=ap.NOT_LOADED,aq.serializedApiParams=void 0,aq.listeners=[];let ar=["onLoad","onError","apiKey","version","libraries"],as=["children"],at=f.createContext(null),au=a=>{let{children:b}=a,c=an(a,as),{mapInstances:d,addMapInstance:e,removeMapInstance:g,clearMapInstances:h}=function(){let[a,b]=(0,f.useState)({});return{mapInstances:a,addMapInstance:(a,c="default")=>{b(b=>am({},b,{[c]:a}))},removeMapInstance:(a="default")=>{b(b=>an(b,[a].map(ao)))},clearMapInstances:()=>{b({})}}}(),{status:i,loadedLibraries:j,importLibrary:k}=function(a){let{onLoad:b,onError:c,apiKey:d,version:e,libraries:g=[]}=a,h=an(a,ar),[i,j]=(0,f.useState)(aq.loadingStatus),[k,l]=(0,f.useReducer)((a,b)=>a[b.name]?a:am({},a,{[b.name]:b.value}),{}),m=(0,f.useMemo)(()=>null==g?void 0:g.join(","),[g]),n=(0,f.useMemo)(()=>JSON.stringify(am({apiKey:d,version:e},h)),[d,e,h]),o=(0,f.useCallback)(async a=>{var b;if(k[a])return k[a];if(!(null!=(b=google)&&null!=(b=b.maps)&&b.importLibrary))throw Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");let c=await window.google.maps.importLibrary(a);return l({name:a,value:c}),c},[k]);return(0,f.useEffect)(()=>{(async()=>{try{let a=am({key:d},h);for(let b of(e&&(a.v=e),(null==m?void 0:m.length)>0&&(a.libraries=m),(void 0===a.channel||a.channel<0||a.channel>999)&&delete a.channel,void 0===a.solutionChannel?a.solutionChannel="GMP_visgl_rgmlibrary_v1_default":""===a.solutionChannel&&delete a.solutionChannel,await aq.load(a,a=>j(a)),["core","maps",...g]))await o(b);b&&b()}catch(a){c?c(a):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",a)}})()},[d,m,n]),{status:i,loadedLibraries:k,importLibrary:o}}(c),l=(0,f.useMemo)(()=>({mapInstances:d,addMapInstance:e,removeMapInstance:g,clearMapInstances:h,status:i,loadedLibraries:j,importLibrary:k}),[d,e,g,h,i,j,k]);return f.createElement(at.Provider,{value:l},b)},av={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},aw=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],ax=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],ay=Object.keys(av),az=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function aA(){var a;return(null==(a=(0,f.useContext)(at))?void 0:a.status)||ap.NOT_LOADED}function aB(a){return a&&"object"==typeof a&&"lat"in a&&"lng"in a&&Number.isFinite(a.lat)&&Number.isFinite(a.lng)?a:a.toJSON()}let aC=()=>f.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"}},f.createElement("h2",null,"Error: AuthFailure"),f.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",f.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."));function aD(){return aA()===ap.LOADED}let aE=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],aF=["padding"];class aG{static has(a){return this.entries[a]&&this.entries[a].length>0}static pop(a){return this.entries[a]&&this.entries[a].pop()||null}static push(a,b){this.entries[a]||(this.entries[a]=[]),this.entries[a].push(b)}}aG.entries={};let aH=f.createContext(null),aI=a=>{let{children:b,id:c,className:d,style:e}=a,g=(0,f.useContext)(at),h=aA();if(!g)throw Error("<Map> can only be used inside an <ApiProvider> component.");let[i,j,k]=function(a,b){let c=aD(),[d,e]=(0,f.useState)(null),[g,h]=function(){let[a,b]=(0,f.useState)(null);return[a,(0,f.useCallback)(a=>b(a),[b])]}(),i=function(a){let b=function(){let[,a]=(0,f.useReducer)(a=>a+1,0);return a}(),c=(0,f.useRef)({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return(0,f.useEffect)(()=>{if(!a)return;let d=google.maps.event.addListener(a,"bounds_changed",()=>{!function(a,b){let c=a.getCenter(),d=a.getZoom(),e=a.getHeading()||0,f=a.getTilt()||0,g=a.getBounds();c&&g&&Number.isFinite(d)||console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(b.current,{center:(null==c?void 0:c.toJSON())||{lat:0,lng:0},zoom:d||0,heading:e,tilt:f})}(a,c),b()});return()=>d.remove()},[a,b]),c}(d),{id:j,defaultBounds:k,defaultCenter:l,defaultZoom:m,defaultHeading:n,defaultTilt:o,reuseMaps:p,renderingType:q,colorScheme:r}=a,s=an(a,aE),t=void 0!==a.zoom||void 0!==a.defaultZoom,u=void 0!==a.center||void 0!==a.defaultCenter;for(let a of(k||t&&u||console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!s.center&&l&&(s.center=l),!s.zoom&&Number.isFinite(m)&&(s.zoom=m),!s.heading&&Number.isFinite(n)&&(s.heading=n),!s.tilt&&Number.isFinite(o)&&(s.tilt=o),Object.keys(s)))void 0===s[a]&&delete s[a];let v=(0,f.useRef)(void 0);return(0,f.useEffect)(()=>{let d,f;if(!g||!c)return;let{addMapInstance:h,removeMapInstance:l}=b,{mapId:m}=a,n=`${m||"default"}:${q||"default"}:${r||"LIGHT"}`;if(p&&aG.has(n)?(d=(f=aG.pop(n)).getDiv(),g.appendChild(d),f.setOptions(s),setTimeout(()=>f.setCenter(f.getCenter()),0)):((d=document.createElement("div")).style.height="100%",g.appendChild(d),f=new google.maps.Map(d,am({},s,q?{renderingType:q}:{},r?{colorScheme:r}:{}))),e(f),h(f,j),k){let{padding:a}=k,b=an(k,aF);f.fitBounds(b,a)}else t&&u||f.fitBounds({east:180,west:-180,south:-90,north:90});if(v.current){let{mapId:a,cameraState:b}=v.current;a!==m&&f.setOptions(b)}return()=>{v.current={mapId:m,cameraState:i.current},d.remove(),p?aG.push(n,f):google.maps.event.clearInstanceListeners(f),e(null),l(j)}},[g,c,j,a.mapId,a.renderingType,a.colorScheme]),[d,h,i]}(a,g);!function(a,b,c){let d=c.center?aB(c.center):null,e=null,g=null;d&&Number.isFinite(d.lat)&&Number.isFinite(d.lng)&&(e=d.lat,g=d.lng);let h=Number.isFinite(c.zoom)?c.zoom:null,i=Number.isFinite(c.heading)?c.heading:null,j=Number.isFinite(c.tilt)?c.tilt:null;(0,f.useLayoutEffect)(()=>{if(!a)return;let c={},d=!1;null!==e&&null!==g&&(b.current.center.lat!==e||b.current.center.lng!==g)&&(c.center={lat:e,lng:g},d=!0),null!==h&&b.current.zoom!==h&&(c.zoom=h,d=!0),null!==i&&b.current.heading!==i&&(c.heading=i,d=!0),null!==j&&b.current.tilt!==j&&(c.tilt=j,d=!0),d&&a.moveCamera(c)})}(i,k,a),function(a,b){for(let c of ay){let d=b[c],e=av[c];(0,f.useEffect)(()=>{if(!a||!d)return;let b=google.maps.event.addListener(a,e,b=>{d(function(a,b,c){let d={type:a,map:b,detail:{},stoppable:!1,stop:()=>{}};if(aw.includes(a)){let a=b.getCenter(),c=b.getZoom(),e=b.getHeading()||0,f=b.getTilt()||0,g=b.getBounds();return a&&g&&Number.isFinite(c)||console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),d.detail={center:(null==a?void 0:a.toJSON())||{lat:0,lng:0},zoom:c||0,heading:e,tilt:f,bounds:(null==g?void 0:g.toJSON())||{north:90,east:180,south:-90,west:-180}},d}if(ax.includes(a)){var e;if(!c)throw Error("[createEvent] mouse events must provide a srcEvent");return d.domEvent=c.domEvent,d.stoppable=!0,d.stop=()=>c.stop(),d.detail={latLng:(null==(e=c.latLng)?void 0:e.toJSON())||null,placeId:c.placeId},d}return d}(e,a,b))});return()=>b.remove()},[a,e,d])}}(i,a),function(a,b){var c,d;let e={};for(let a of Object.keys(b))az.has(a)&&(e[a]=b[a]);c=()=>{a&&a.setOptions(e)},d=[e],(0,f.useEffect)(c,[function(a,b){let c=(0,f.useRef)(a);return b(a,c.current)||(c.current=a),c.current}(d,al)])}(i,a);let l=function(a,b){let{viewport:c,viewState:d}=b;return(0,f.useLayoutEffect)(()=>{if(!a||!d)return;let{latitude:b,longitude:c,bearing:e,pitch:f,zoom:g}=d;a.moveCamera({center:{lat:b,lng:c},heading:e,tilt:f,zoom:g+1})},[a,d]),!!c}(i,a),m=!!a.controlled;(0,f.useEffect)(()=>{if(i)return l&&i.setOptions({disableDefaultUI:!0}),(l||m)&&i.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{i.setOptions({gestureHandling:a.gestureHandling,keyboardShortcuts:a.keyboardShortcuts})}},[i,l,m,a.gestureHandling,a.keyboardShortcuts]);let n=a.center?aB(a.center):null,o=null,p=null;n&&Number.isFinite(n.lat)&&Number.isFinite(n.lng)&&(o=n.lat,p=n.lng);let q=(0,f.useMemo)(()=>{var b,c,d,e,f;return{center:{lat:null!=(b=o)?b:0,lng:null!=(c=p)?c:0},zoom:null!=(d=a.zoom)?d:0,heading:null!=(e=a.heading)?e:0,tilt:null!=(f=a.tilt)?f:0}},[o,p,a.zoom,a.heading,a.tilt]);(0,f.useLayoutEffect)(()=>{if(!i||!m)return;i.moveCamera(q);let a=i.addListener("bounds_changed",()=>{i.moveCamera(q)});return()=>a.remove()},[i,m,q]);let r=(0,f.useMemo)(()=>am({width:"100%",height:"100%",position:"relative",zIndex:l?-1:0},e),[e,l]),s=(0,f.useMemo)(()=>({map:i}),[i]);return h===ap.AUTH_FAILURE?f.createElement("div",{style:am({position:"relative"},d?{}:r),className:d},f.createElement(aC,null)):f.createElement("div",am({ref:j,"data-testid":"map",style:d?void 0:r,className:d},c?{id:c}:{}),i?f.createElement(aH.Provider,{value:s},b):null)};aI.deckGLViewProps=!0;let aJ=new Set,aK=(a=null)=>{let b=(0,f.useContext)(at),{map:c}=(0,f.useContext)(aH)||{};if(null===b)return!function(...a){let b=JSON.stringify(a);aJ.has(b)||(aJ.add(b),console.error(...a))}("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;let{mapInstances:d}=b;return null!==a?d[a]||null:c||d.default||null};function aL(a,b,c){(0,f.useEffect)(()=>{if(!a||!b||!c)return;let d=google.maps.event.addListener(a,b,c);return()=>d.remove()},[a,b,c])}function aM(a,b,c){(0,f.useEffect)(()=>{a&&(a[b]=c)},[a,b,c])}function aN(a,b,c){(0,f.useEffect)(()=>{if(a&&b&&c)return a.addEventListener(b,c),()=>a.removeEventListener(b,c)},[a,b,c])}function aO(a){return a.nodeType===Node.ELEMENT_NODE}let aP=f.createContext(null),aQ={BOTTOM:["50%","100%"]},aR=({children:a,styles:b,className:c,anchorPoint:d})=>{let[e,g]=null!=d?d:aQ.BOTTOM,h=`-${e}`,i=`-${g}`;e.trimStart().startsWith("-")&&(h=e.substring(1)),g.trimStart().startsWith("-")&&(i=g.substring(1));let j=`translate(50%, 100%) translate(${h}, ${i})`;return f.createElement("div",{style:{transform:j}},f.createElement("div",{className:c,style:b},a))},aS=(0,f.forwardRef)((a,b)=>{let{children:c,style:d,className:e,anchorPoint:g}=a,[h,i]=function(a){let[b,c]=(0,f.useState)(null),[d,e]=(0,f.useState)(null),g=aK(),h=function(a){let b=aD(),c=(0,f.useContext)(at);return(0,f.useEffect)(()=>{b&&c&&c.importLibrary(a)},[b,c,a]),(null==c?void 0:c.loadedLibraries[a])||null}("marker"),{children:i,onClick:j,className:k,onMouseEnter:l,onMouseLeave:m,onDrag:n,onDragStart:o,onDragEnd:p,collisionBehavior:q,clickable:r,draggable:s,position:t,title:u,zIndex:v}=a,w=f.Children.count(i);return(0,f.useEffect)(()=>{if(!g||!h)return;let a=new h.AdvancedMarkerElement;a.map=g,c(a);let b=null;return w>0&&((b=document.createElement("div")).isCustomMarker=!0,a.content=b,e(b)),()=>{var d;a.map=null,null==(d=b)||d.remove(),c(null),e(null)}},[g,h,w]),(0,f.useEffect)(()=>{null!=b&&b.content&&aO(b.content)&&!(w>0)&&(b.content.className=null!=k?k:"")},[b,k,w]),aM(b,"position",t),aM(b,"title",null!=u?u:""),aM(b,"zIndex",v),aM(b,"collisionBehavior",q),(0,f.useEffect)(()=>{b&&(void 0!==s?b.gmpDraggable=s:n||o||p?b.gmpDraggable=!0:b.gmpDraggable=!1)},[b,s,n,p,o]),(0,f.useEffect)(()=>{if(!b)return;let a=void 0!==r||!!j||!!l||!!m;b.gmpClickable=a,a&&null!=b&&b.content&&aO(b.content)&&(b.content.style.pointerEvents="none",b.content.firstElementChild&&(b.content.firstElementChild.style.pointerEvents="all"))},[b,r,j,l,m]),aL(b,"click",j),aL(b,"drag",n),aL(b,"dragstart",o),aL(b,"dragend",p),aN(null==b?void 0:b.element,"mouseenter",l),aN(null==b?void 0:b.element,"mouseleave",m),[b,d]}(a),j=(0,f.useMemo)(()=>h?{marker:h}:null,[h]);return((0,f.useImperativeHandle)(b,()=>h,[h]),i)?f.createElement(aP.Provider,{value:j},(0,ak.createPortal)(f.createElement(aR,{anchorPoint:g,styles:d,className:e},c),i)):null}),aT=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"],aU=(0,f.forwardRef)((a,b)=>{let c=function(a){let[b,c]=(0,f.useState)(null),d=aK(),{onClick:e,onDrag:g,onDragStart:h,onDragEnd:i,onMouseOver:j,onMouseOut:k}=a,l=an(a,aT),{position:m,draggable:n}=l;return(0,f.useEffect)(()=>{if(!d){void 0===d&&console.error("<Marker> has to be inside a Map component.");return}let a=new google.maps.Marker(l);return a.setMap(d),c(a),()=>{a.setMap(null),c(null)}},[d]),(0,f.useEffect)(()=>{if(!b)return;let a=google.maps.event;return e&&a.addListener(b,"click",e),g&&a.addListener(b,"drag",g),h&&a.addListener(b,"dragstart",h),i&&a.addListener(b,"dragend",i),j&&a.addListener(b,"mouseover",j),k&&a.addListener(b,"mouseout",k),b.setDraggable(!!n),()=>{a.clearInstanceListeners(b)}},[b,n,e,g,h,i,j,k]),(0,f.useEffect)(()=>{b&&l&&b.setOptions(l)},[b,l]),(0,f.useEffect)(()=>{!n&&m&&b&&b.setPosition(m)},[n,m,b]),b}(a);return(0,f.useImperativeHandle)(b,()=>c,[c]),f.createElement(f.Fragment,null)}),aV=a=>fetch(a).then(a=>a.json());function aW(){let{data:a=[]}=Y("/api/attendees",aV),[b,c]=(0,f.useState)(null),[d,g]=(0,f.useState)(!1),h=(0,f.useMemo)(()=>{let c=[b,...a.map(a=>a.location).filter(Boolean)].filter(Boolean);if(!c.length)return;let d=c.map(a=>a.lat),e=c.map(a=>a.lng);return{north:Math.max(...d),south:Math.min(...d),east:Math.max(...e),west:Math.min(...e)}},[a,b]),i=process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY,j=process.env.NEXT_PUBLIC_GOOGLE_MAPS_MAP_ID;return(0,e.jsx)("div",{className:"rounded-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden shadow-sm relative z-10 min-h-[360px]",children:(0,e.jsxs)("div",{className:"absolute inset-0 bg-zinc-100 dark:bg-zinc-900",children:[!i&&(0,e.jsx)("div",{className:"h-full w-full flex items-center justify-center text-sm opacity-70 px-4 text-center",children:"Set NEXT_PUBLIC_GOOGLE_MAPS_API_KEY in your environment to display the map."}),d&&i&&(0,e.jsx)(au,{apiKey:i,libraries:["marker"],children:(0,e.jsxs)(aI,{style:{width:"100%",height:"100%"},defaultZoom:6,defaultCenter:b||{lat:40.75,lng:-73.98},mapId:j,children:[(0,e.jsx)(aX,{bounds:h}),b&&(j?(0,e.jsx)(aS,{position:b,title:_,zIndex:1e3,children:(0,e.jsx)("div",{style:{fontSize:28,lineHeight:1,color:"#eab308",textShadow:"0 1px 2px rgba(0,0,0,.6)"},children:"★"})}):(0,e.jsx)(aU,{position:b,title:_,zIndex:1e3,icon:`data:image/svg+xml;charset=UTF-8,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="#eab308" stroke="#a16207" stroke-width="1.5"><path d="M12 2l2.9 5.9 6.5.9-4.7 4.6 1.1 6.5L12 17.8 6.2 20.9l1.1-6.5L2.6 8.8l6.5-.9L12 2z"/></svg>')}`})),a.map(a=>a.location?(0,e.jsx)("div",{children:j?(0,e.jsx)(aS,{position:a.location,title:`${a.name} — ${a.startingAddress}`,children:(0,e.jsx)("div",{style:{width:16,height:16,background:"#2563eb",borderRadius:"9999px",border:"2px solid #ffffff",boxShadow:"0 1px 3px rgba(0,0,0,.6)"}})}):(0,e.jsx)(aU,{position:a.location,title:`${a.name} — ${a.startingAddress}`,icon:`data:image/svg+xml;charset=UTF-8,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><circle cx="9" cy="9" r="7" fill="#2563eb" stroke="#ffffff" stroke-width="2"/></svg>')}`})},a.id):null)]})}),i&&!j&&(0,e.jsx)("div",{className:"absolute bottom-2 left-2 text-[11px] opacity-70 bg-white/70 dark:bg-zinc-900/70 rounded px-2 py-1",children:"Tip: Set NEXT_PUBLIC_GOOGLE_MAPS_MAP_ID for Advanced Markers."})]})})}function aX({bounds:a}){return aK(),null}var aY=c(1261),aZ=c.n(aY);let a$=Symbol.for("constructDateFrom");function a_(a,b){return"function"==typeof a?a(b):a&&"object"==typeof a&&a$ in a?a[a$](b):a instanceof Date?new a.constructor(b):new Date(b)}function a0(a,b){return a_(b||a,a)}function a1(a){let b=a0(a),c=new Date(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()));return c.setUTCFullYear(b.getFullYear()),a-c}function a2(a,b){let c=a0(a,b?.in);return c.setHours(0,0,0,0),c}function a3(a,b,c){let[d,e]=function(a,...b){let c=a_.bind(null,a||b.find(a=>"object"==typeof a));return b.map(c)}(c?.in,a,b),f=a2(d),g=a2(e);return Math.round((f-a1(f)-(g-a1(g)))/864e5)}function a4(){a3(new Date(Z),new Date);let a=function(a){let[b,c]=(0,f.useState)(null);return b}(0);return(0,e.jsxs)("div",{className:"rounded-2xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-6 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[(0,e.jsx)("div",{className:"flex items-center justify-between",children:(0,e.jsx)("h3",{className:"text-lg font-semibold",children:"Pok\xe9mon of the Day"})}),a?(0,e.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,e.jsx)("div",{className:"relative h-32 w-32 shrink-0",children:(0,e.jsx)(aZ(),{src:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${a.id}.png`,alt:a.name,fill:!0,sizes:"128px",className:"object-contain"})}),(0,e.jsxs)("div",{className:"min-w-0",children:[(0,e.jsxs)("div",{className:"text-xl font-semibold capitalize",children:["#",a.id," • ",a.name.replace("-"," ")]}),(0,e.jsx)("p",{className:"mt-2 text-sm opacity-80 line-clamp-4",children:a.flavor_text||"A mysterious Pok\xe9mon appears as we count down to the trip!"})]})]}):(0,e.jsx)("div",{className:"mt-4 text-sm opacity-70",children:"No Pok\xe9mon today. Rest up for the trip!"})]})}let a5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a6(a){return (b={})=>{let c=b.width?String(b.width):a.defaultWidth;return a.formats[c]||a.formats[a.defaultWidth]}}let a7={date:a6({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:a6({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:a6({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},a8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function a9(a){return(b,c)=>{let d;if("formatting"===(c?.context?String(c.context):"standalone")&&a.formattingValues){let b=a.defaultFormattingWidth||a.defaultWidth,e=c?.width?String(c.width):b;d=a.formattingValues[e]||a.formattingValues[b]}else{let b=a.defaultWidth,e=c?.width?String(c.width):a.defaultWidth;d=a.values[e]||a.values[b]}return d[a.argumentCallback?a.argumentCallback(b):b]}}function ba(a){return(b,c={})=>{let d,e=c.width,f=e&&a.matchPatterns[e]||a.matchPatterns[a.defaultMatchWidth],g=b.match(f);if(!g)return null;let h=g[0],i=e&&a.parsePatterns[e]||a.parsePatterns[a.defaultParseWidth],j=Array.isArray(i)?function(a,b){for(let c=0;c<a.length;c++)if(b(a[c]))return c}(i,a=>a.test(h)):function(a,b){for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&b(a[c]))return c}(i,a=>a.test(h));return d=a.valueCallback?a.valueCallback(j):j,{value:d=c.valueCallback?c.valueCallback(d):d,rest:b.slice(h.length)}}}let bb={code:"en-US",formatDistance:(a,b,c)=>{let d,e=a5[a];if(d="string"==typeof e?e:1===b?e.one:e.other.replace("{{count}}",b.toString()),c?.addSuffix)if(c.comparison&&c.comparison>0)return"in "+d;else return d+" ago";return d},formatLong:a7,formatRelative:(a,b,c,d)=>a8[a],localize:{ordinalNumber:(a,b)=>{let c=Number(a),d=c%100;if(d>20||d<10)switch(d%10){case 1:return c+"st";case 2:return c+"nd";case 3:return c+"rd"}return c+"th"},era:a9({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:a9({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:a=>a-1}),month:a9({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:a9({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:a9({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(a){return(b,c={})=>{let d=b.match(a.matchPattern);if(!d)return null;let e=d[0],f=b.match(a.parsePattern);if(!f)return null;let g=a.valueCallback?a.valueCallback(f[0]):f[0];return{value:g=c.valueCallback?c.valueCallback(g):g,rest:b.slice(e.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:a=>parseInt(a,10)}),era:ba({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ba({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:a=>a+1}),month:ba({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ba({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ba({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},bc={};function bd(a,b){let c=b?.weekStartsOn??b?.locale?.options?.weekStartsOn??bc.weekStartsOn??bc.locale?.options?.weekStartsOn??0,d=a0(a,b?.in),e=d.getDay();return d.setDate(d.getDate()-(7*(e<c)+e-c)),d.setHours(0,0,0,0),d}function be(a,b){return bd(a,{...b,weekStartsOn:1})}function bf(a,b){let c=a0(a,b?.in),d=c.getFullYear(),e=a_(c,0);e.setFullYear(d+1,0,4),e.setHours(0,0,0,0);let f=be(e),g=a_(c,0);g.setFullYear(d,0,4),g.setHours(0,0,0,0);let h=be(g);return c.getTime()>=f.getTime()?d+1:c.getTime()>=h.getTime()?d:d-1}function bg(a,b){let c=a0(a,b?.in),d=c.getFullYear(),e=b?.firstWeekContainsDate??b?.locale?.options?.firstWeekContainsDate??bc.firstWeekContainsDate??bc.locale?.options?.firstWeekContainsDate??1,f=a_(b?.in||a,0);f.setFullYear(d+1,0,e),f.setHours(0,0,0,0);let g=bd(f,b),h=a_(b?.in||a,0);h.setFullYear(d,0,e),h.setHours(0,0,0,0);let i=bd(h,b);return+c>=+g?d+1:+c>=+i?d:d-1}function bh(a,b){let c=Math.abs(a).toString().padStart(b,"0");return(a<0?"-":"")+c}let bi={y(a,b){let c=a.getFullYear(),d=c>0?c:1-c;return bh("yy"===b?d%100:d,b.length)},M(a,b){let c=a.getMonth();return"M"===b?String(c+1):bh(c+1,2)},d:(a,b)=>bh(a.getDate(),b.length),a(a,b){let c=a.getHours()/12>=1?"pm":"am";switch(b){case"a":case"aa":return c.toUpperCase();case"aaa":return c;case"aaaaa":return c[0];default:return"am"===c?"a.m.":"p.m."}},h:(a,b)=>bh(a.getHours()%12||12,b.length),H:(a,b)=>bh(a.getHours(),b.length),m:(a,b)=>bh(a.getMinutes(),b.length),s:(a,b)=>bh(a.getSeconds(),b.length),S(a,b){let c=b.length;return bh(Math.trunc(a.getMilliseconds()*Math.pow(10,c-3)),b.length)}},bj={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bk={G:function(a,b,c){let d=+(a.getFullYear()>0);switch(b){case"G":case"GG":case"GGG":return c.era(d,{width:"abbreviated"});case"GGGGG":return c.era(d,{width:"narrow"});default:return c.era(d,{width:"wide"})}},y:function(a,b,c){if("yo"===b){let b=a.getFullYear();return c.ordinalNumber(b>0?b:1-b,{unit:"year"})}return bi.y(a,b)},Y:function(a,b,c,d){let e=bg(a,d),f=e>0?e:1-e;return"YY"===b?bh(f%100,2):"Yo"===b?c.ordinalNumber(f,{unit:"year"}):bh(f,b.length)},R:function(a,b){return bh(bf(a),b.length)},u:function(a,b){return bh(a.getFullYear(),b.length)},Q:function(a,b,c){let d=Math.ceil((a.getMonth()+1)/3);switch(b){case"Q":return String(d);case"QQ":return bh(d,2);case"Qo":return c.ordinalNumber(d,{unit:"quarter"});case"QQQ":return c.quarter(d,{width:"abbreviated",context:"formatting"});case"QQQQQ":return c.quarter(d,{width:"narrow",context:"formatting"});default:return c.quarter(d,{width:"wide",context:"formatting"})}},q:function(a,b,c){let d=Math.ceil((a.getMonth()+1)/3);switch(b){case"q":return String(d);case"qq":return bh(d,2);case"qo":return c.ordinalNumber(d,{unit:"quarter"});case"qqq":return c.quarter(d,{width:"abbreviated",context:"standalone"});case"qqqqq":return c.quarter(d,{width:"narrow",context:"standalone"});default:return c.quarter(d,{width:"wide",context:"standalone"})}},M:function(a,b,c){let d=a.getMonth();switch(b){case"M":case"MM":return bi.M(a,b);case"Mo":return c.ordinalNumber(d+1,{unit:"month"});case"MMM":return c.month(d,{width:"abbreviated",context:"formatting"});case"MMMMM":return c.month(d,{width:"narrow",context:"formatting"});default:return c.month(d,{width:"wide",context:"formatting"})}},L:function(a,b,c){let d=a.getMonth();switch(b){case"L":return String(d+1);case"LL":return bh(d+1,2);case"Lo":return c.ordinalNumber(d+1,{unit:"month"});case"LLL":return c.month(d,{width:"abbreviated",context:"standalone"});case"LLLLL":return c.month(d,{width:"narrow",context:"standalone"});default:return c.month(d,{width:"wide",context:"standalone"})}},w:function(a,b,c,d){let e=function(a,b){let c=a0(a,b?.in);return Math.round((bd(c,b)-function(a,b){let c=b?.firstWeekContainsDate??b?.locale?.options?.firstWeekContainsDate??bc.firstWeekContainsDate??bc.locale?.options?.firstWeekContainsDate??1,d=bg(a,b),e=a_(b?.in||a,0);return e.setFullYear(d,0,c),e.setHours(0,0,0,0),bd(e,b)}(c,b))/6048e5)+1}(a,d);return"wo"===b?c.ordinalNumber(e,{unit:"week"}):bh(e,b.length)},I:function(a,b,c){let d=function(a,b){let c=a0(a,void 0);return Math.round((be(c)-function(a,b){let c=bf(a,void 0),d=a_(a,0);return d.setFullYear(c,0,4),d.setHours(0,0,0,0),be(d)}(c))/6048e5)+1}(a);return"Io"===b?c.ordinalNumber(d,{unit:"week"}):bh(d,b.length)},d:function(a,b,c){return"do"===b?c.ordinalNumber(a.getDate(),{unit:"date"}):bi.d(a,b)},D:function(a,b,c){let d=function(a,b){let c=a0(a,void 0);return a3(c,function(a,b){let c=a0(a,void 0);return c.setFullYear(c.getFullYear(),0,1),c.setHours(0,0,0,0),c}(c))+1}(a);return"Do"===b?c.ordinalNumber(d,{unit:"dayOfYear"}):bh(d,b.length)},E:function(a,b,c){let d=a.getDay();switch(b){case"E":case"EE":case"EEE":return c.day(d,{width:"abbreviated",context:"formatting"});case"EEEEE":return c.day(d,{width:"narrow",context:"formatting"});case"EEEEEE":return c.day(d,{width:"short",context:"formatting"});default:return c.day(d,{width:"wide",context:"formatting"})}},e:function(a,b,c,d){let e=a.getDay(),f=(e-d.weekStartsOn+8)%7||7;switch(b){case"e":return String(f);case"ee":return bh(f,2);case"eo":return c.ordinalNumber(f,{unit:"day"});case"eee":return c.day(e,{width:"abbreviated",context:"formatting"});case"eeeee":return c.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return c.day(e,{width:"short",context:"formatting"});default:return c.day(e,{width:"wide",context:"formatting"})}},c:function(a,b,c,d){let e=a.getDay(),f=(e-d.weekStartsOn+8)%7||7;switch(b){case"c":return String(f);case"cc":return bh(f,b.length);case"co":return c.ordinalNumber(f,{unit:"day"});case"ccc":return c.day(e,{width:"abbreviated",context:"standalone"});case"ccccc":return c.day(e,{width:"narrow",context:"standalone"});case"cccccc":return c.day(e,{width:"short",context:"standalone"});default:return c.day(e,{width:"wide",context:"standalone"})}},i:function(a,b,c){let d=a.getDay(),e=0===d?7:d;switch(b){case"i":return String(e);case"ii":return bh(e,b.length);case"io":return c.ordinalNumber(e,{unit:"day"});case"iii":return c.day(d,{width:"abbreviated",context:"formatting"});case"iiiii":return c.day(d,{width:"narrow",context:"formatting"});case"iiiiii":return c.day(d,{width:"short",context:"formatting"});default:return c.day(d,{width:"wide",context:"formatting"})}},a:function(a,b,c){let d=a.getHours()/12>=1?"pm":"am";switch(b){case"a":case"aa":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"aaa":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},b:function(a,b,c){let d,e=a.getHours();switch(d=12===e?bj.noon:0===e?bj.midnight:e/12>=1?"pm":"am",b){case"b":case"bb":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"bbb":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},B:function(a,b,c){let d,e=a.getHours();switch(d=e>=17?bj.evening:e>=12?bj.afternoon:e>=4?bj.morning:bj.night,b){case"B":case"BB":case"BBB":return c.dayPeriod(d,{width:"abbreviated",context:"formatting"});case"BBBBB":return c.dayPeriod(d,{width:"narrow",context:"formatting"});default:return c.dayPeriod(d,{width:"wide",context:"formatting"})}},h:function(a,b,c){if("ho"===b){let b=a.getHours()%12;return 0===b&&(b=12),c.ordinalNumber(b,{unit:"hour"})}return bi.h(a,b)},H:function(a,b,c){return"Ho"===b?c.ordinalNumber(a.getHours(),{unit:"hour"}):bi.H(a,b)},K:function(a,b,c){let d=a.getHours()%12;return"Ko"===b?c.ordinalNumber(d,{unit:"hour"}):bh(d,b.length)},k:function(a,b,c){let d=a.getHours();return(0===d&&(d=24),"ko"===b)?c.ordinalNumber(d,{unit:"hour"}):bh(d,b.length)},m:function(a,b,c){return"mo"===b?c.ordinalNumber(a.getMinutes(),{unit:"minute"}):bi.m(a,b)},s:function(a,b,c){return"so"===b?c.ordinalNumber(a.getSeconds(),{unit:"second"}):bi.s(a,b)},S:function(a,b){return bi.S(a,b)},X:function(a,b,c){let d=a.getTimezoneOffset();if(0===d)return"Z";switch(b){case"X":return bm(d);case"XXXX":case"XX":return bn(d);default:return bn(d,":")}},x:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"x":return bm(d);case"xxxx":case"xx":return bn(d);default:return bn(d,":")}},O:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"O":case"OO":case"OOO":return"GMT"+bl(d,":");default:return"GMT"+bn(d,":")}},z:function(a,b,c){let d=a.getTimezoneOffset();switch(b){case"z":case"zz":case"zzz":return"GMT"+bl(d,":");default:return"GMT"+bn(d,":")}},t:function(a,b,c){return bh(Math.trunc(a/1e3),b.length)},T:function(a,b,c){return bh(+a,b.length)}};function bl(a,b=""){let c=a>0?"-":"+",d=Math.abs(a),e=Math.trunc(d/60),f=d%60;return 0===f?c+String(e):c+String(e)+b+bh(f,2)}function bm(a,b){return a%60==0?(a>0?"-":"+")+bh(Math.abs(a)/60,2):bn(a,b)}function bn(a,b=""){let c=Math.abs(a);return(a>0?"-":"+")+bh(Math.trunc(c/60),2)+b+bh(c%60,2)}let bo=(a,b)=>{switch(a){case"P":return b.date({width:"short"});case"PP":return b.date({width:"medium"});case"PPP":return b.date({width:"long"});default:return b.date({width:"full"})}},bp=(a,b)=>{switch(a){case"p":return b.time({width:"short"});case"pp":return b.time({width:"medium"});case"ppp":return b.time({width:"long"});default:return b.time({width:"full"})}},bq={p:bp,P:(a,b)=>{let c,d=a.match(/(P+)(p+)?/)||[],e=d[1],f=d[2];if(!f)return bo(a,b);switch(e){case"P":c=b.dateTime({width:"short"});break;case"PP":c=b.dateTime({width:"medium"});break;case"PPP":c=b.dateTime({width:"long"});break;default:c=b.dateTime({width:"full"})}return c.replace("{{date}}",bo(e,b)).replace("{{time}}",bp(f,b))}},br=/^D+$/,bs=/^Y+$/,bt=["D","DD","YY","YYYY"],bu=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bv=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bw=/^'([^]*?)'?$/,bx=/''/g,by=/[a-zA-Z]/;function bz(a,b,c){let d=c?.locale??bc.locale??bb,e=c?.firstWeekContainsDate??c?.locale?.options?.firstWeekContainsDate??bc.firstWeekContainsDate??bc.locale?.options?.firstWeekContainsDate??1,f=c?.weekStartsOn??c?.locale?.options?.weekStartsOn??bc.weekStartsOn??bc.locale?.options?.weekStartsOn??0,g=a0(a,c?.in);if(!(g instanceof Date||"object"==typeof g&&"[object Date]"===Object.prototype.toString.call(g))&&"number"!=typeof g||isNaN(+a0(g)))throw RangeError("Invalid time value");let h=b.match(bv).map(a=>{let b=a[0];return"p"===b||"P"===b?(0,bq[b])(a,d.formatLong):a}).join("").match(bu).map(a=>{if("''"===a)return{isToken:!1,value:"'"};let b=a[0];if("'"===b)return{isToken:!1,value:function(a){let b=a.match(bw);return b?b[1].replace(bx,"'"):a}(a)};if(bk[b])return{isToken:!0,value:a};if(b.match(by))throw RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:a}});d.localize.preprocessor&&(h=d.localize.preprocessor(g,h));let i={firstWeekContainsDate:e,weekStartsOn:f,locale:d};return h.map(e=>{if(!e.isToken)return e.value;let f=e.value;return(!c?.useAdditionalWeekYearTokens&&bs.test(f)||!c?.useAdditionalDayOfYearTokens&&br.test(f))&&function(a,b,c){let d=function(a,b,c){let d="Y"===a[0]?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${b}\`) for formatting ${d} to the input \`${c}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(a,b,c);if(console.warn(d),bt.includes(a))throw RangeError(d)}(f,b,String(a)),(0,bk[f[0]])(g,f,d.localize,i)}).join("")}function bA(){let[a,b]=(0,f.useState)(()=>new Date),[c,d]=(0,f.useState)(!1),g=(0,f.useMemo)(()=>new Date(Z),[]),h=(0,f.useMemo)(()=>new Date($),[]),i=function(a){let b=Math.floor(a/86400),c=Math.floor((a-=24*b*3600)/3600),d=Math.floor((a-=3600*c)/60),e=a-60*d;return{days:b,hours:c,minutes:d,seconds:e}}(Math.max(0,function(a,b,c){var d;return(d=void 0,a=>{let b=(d?Math[d]:Math.trunc)(a);return 0===b?0:b})((a0(a)-a0(b))/1e3)}(g,a)));return(0,e.jsxs)("div",{className:"w-full rounded-3xl overflow-hidden shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)] bg-white/5 backdrop-blur-xl ring-1 ring-white/10 relative",children:[(0,e.jsxs)("div",{className:"relative h-40 md:h-56 w-full",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 via-purple-600 to-fuchsia-600 opacity-70"}),(0,e.jsx)(aZ(),{src:"/house-hero.jpg",alt:"Trip hero",fill:!0,priority:!0,sizes:"100vw",className:"absolute inset-0 h-full w-full object-cover"}),(0,e.jsx)("div",{className:"absolute inset-0 bg-black/30"}),(0,e.jsxs)("div",{className:"absolute inset-x-0 bottom-0 p-4 flex items-end justify-between text-white gap-3",children:[(0,e.jsx)("h2",{className:"text-4xl md:text-6xl font-light md:font-normal leading-tight tracking-tight drop-shadow-[0_2px_10px_rgba(0,0,0,0.55)] text-transparent bg-clip-text bg-gradient-to-r from-indigo-100 via-fuchsia-100 to-pink-100",children:"Man Weekend 2025"}),(0,e.jsx)("a",{href:"https://www.airbnb.com/rooms/880325538027550159?viralityEntryPoint=1&s=76",target:"_blank",rel:"noreferrer",className:"text-xs md:text-sm bg-white/10 hover:bg-white/20 backdrop-blur rounded-xl ring-1 ring-white/15 px-2.5 py-1 whitespace-nowrap",children:"View Airbnb"})]})]}),(0,e.jsxs)("div",{className:"px-6 pb-6 pt-4",children:[(0,e.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-slate-100",children:[(0,e.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 ring-1 ring-white/15 px-3 py-1.5 text-xs md:text-sm",children:[(0,e.jsx)("span",{"aria-hidden":!0,children:"\uD83D\uDCC5"}),bz(g,"MMM d, yyyy")," → ",bz(h,"MMM d, yyyy")]}),(0,e.jsxs)("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(_)}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-white/10 ring-1 ring-white/15 hover:bg-white/15 px-3 py-1.5 text-xs md:text-sm break-words",children:[(0,e.jsx)("span",{"aria-hidden":!0,children:"\uD83D\uDCCD"}),_]})]}),(0,e.jsx)("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-3 text-center",children:["Days","Hours","Minutes","Seconds"].map((a,b)=>{let d=[i.days,i.hours,i.minutes,i.seconds][b];return(0,e.jsxs)("div",{className:"rounded-xl bg-white/10 ring-1 ring-white/15 backdrop-blur px-3 py-4",children:[(0,e.jsx)("div",{className:"text-3xl font-bold tabular-nums",suppressHydrationWarning:!0,children:c?d:0}),(0,e.jsx)("div",{className:"text-xs uppercase tracking-wide opacity-70",children:a})]},a)})})]})]})}let bB=a=>fetch(a).then(a=>a.json());function bC(){let{data:a=[]}=Y("/api/attendees",bB),{data:b=[],mutate:c}=Y("/api/stuff",bB),{data:d={items:[],categories:[]}}=Y("/api/stuff/items",bB);d?.items;let g=d?.categories||[],[h,i]=(0,f.useState)(""),[j,k]=(0,f.useState)(1),[l,m]=(0,f.useState)(""),[n,o]=(0,f.useState)(""),[p,q]=(0,f.useState)(!1),[r,s]=(0,f.useState)(-1),[t,u]=(0,f.useState)([]),[v,w]=(0,f.useState)([]),[x,y]=(0,f.useState)(!1),z=(0,f.useRef)(null);function A(a){return a.toLowerCase().replace(/\b([a-z])/g,a=>a.toUpperCase())}function B(a){i(A(a)),q(!1)}async function C(a){a.preventDefault();let b=h.trim(),d=l.trim();b&&n&&!(j<1)&&(await fetch("/api/stuff",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({thingName:b,quantity:j,attendeeId:n,category:d||void 0})}),i(""),k(1),m(""),c())}async function D(a){await fetch(`/api/stuff?id=${encodeURIComponent(a)}`,{method:"DELETE"}),c()}(0,f.useRef)(null),(0,f.useRef)(null);let E=(0,f.useMemo)(()=>new Map(a.map(a=>[a.id,a.name])),[a]),[F,G]=(0,f.useState)("date"),[H,I]=(0,f.useState)("desc");function J(a){a===F?I(a=>"asc"===a?"desc":"asc"):(G(a),I("date"===a?"desc":"asc"))}let K=(0,f.useMemo)(()=>{let a=[...b||[]];return a.sort((a,b)=>{let c="asc"===H?1:-1,d="thing"===F?a.itemName:"category"===F?a.itemCategory||"":"person"===F?E.get(a.attendeeId)||a.attendeeName:"quantity"===F?a.quantity:new Date(a.createdAt).getTime(),e="thing"===F?b.itemName:"category"===F?b.itemCategory||"":"person"===F?E.get(b.attendeeId)||b.attendeeName:"quantity"===F?b.quantity:new Date(b.createdAt).getTime();if("number"==typeof d&&"number"==typeof e)return(d-e)*c;let f=String(d).toLowerCase(),g=String(e).toLowerCase();return f<g?-1*c:f>g?+c:0}),a},[b,H,F,E]);return(0,e.jsxs)("div",{className:"rounded-2xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-6 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold",children:"Stuff To Bring"}),(0,e.jsxs)("form",{onSubmit:C,className:"mt-4 grid grid-cols-1 lg:grid-cols-4 gap-3 items-start",children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("input",{className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"Thing (e.g., paper towels)",value:h,onChange:a=>i(a.target.value),onFocus:()=>t.length>0&&q(!0),onKeyDown:a=>{p&&("ArrowDown"===a.key&&(a.preventDefault(),s(a=>Math.min(a+1,t.length-1))),"ArrowUp"===a.key&&(a.preventDefault(),s(a=>Math.max(a-1,0))),"Enter"===a.key&&r>=0&&(a.preventDefault(),B(t[r].name)),"Escape"===a.key&&q(!1))}}),p&&t.length>0&&(0,e.jsx)("div",{className:"absolute z-20 mt-1 w-full max-h-56 overflow-auto rounded-lg bg-white/5 backdrop-blur-xl ring-1 ring-white/10 shadow-lg",children:t.map((a,b)=>(0,e.jsx)("button",{type:"button",onClick:()=>B(a.name),className:`block w-full text-left px-3 py-2 text-sm hover:bg-white/10 ${b===r?"bg-white/10":""}`,children:A(a.name)},a.id))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"sr-only",htmlFor:"qty",children:"Quantity"}),(0,e.jsx)("input",{id:"qty",type:"number",min:1,className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",value:j,onChange:a=>k(Math.max(1,Number(a.target.value)||1))})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("input",{className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"Category (e.g., kitchen, games)",value:l,onChange:a=>m(a.target.value),onFocus:()=>{y(!0),w((g||[]).slice(0,8))},onBlur:()=>setTimeout(()=>y(!1),100),ref:z}),x&&v.length>0&&(0,e.jsx)("div",{className:"absolute z-20 mt-1 w-full max-h-56 overflow-auto rounded-lg bg-white/5 backdrop-blur-xl ring-1 ring-white/10 shadow-lg",children:v.map(a=>(0,e.jsx)("button",{type:"button",onClick:()=>{m(A(a)),y(!1)},className:"block w-full text-left px-3 py-2 text-sm hover:bg-white/10",children:A(a)},a))})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("select",{className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",value:n,onChange:a=>o(a.target.value),children:a.map(a=>(0,e.jsx)("option",{value:a.id,children:a.name},a.id))}),(0,e.jsx)("button",{type:"submit",className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 hover:opacity-95 text-white font-medium px-3 py-2 text-sm",children:"Add"})]})]}),(0,e.jsx)("div",{className:"mt-5",children:0===K.length?(0,e.jsx)("div",{className:"py-3 text-sm opacity-70",children:"No items yet"}):(0,e.jsx)("div",{className:"overflow-x-auto pr-2",children:(0,e.jsxs)("table",{className:"w-full text-sm",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{className:"text-left border-b border-white/10",children:[(0,e.jsx)("th",{className:"py-2 pr-3",children:(0,e.jsxs)("button",{type:"button",onClick:()=>J("thing"),className:"hover:underline",children:["Thing ","thing"===F?"asc"===H?"▲":"▼":""]})}),(0,e.jsx)("th",{className:"py-2 px-3",children:(0,e.jsxs)("button",{type:"button",onClick:()=>J("category"),className:"hover:underline",children:["Category ","category"===F?"asc"===H?"▲":"▼":""]})}),(0,e.jsx)("th",{className:"py-2 px-3",children:(0,e.jsxs)("button",{type:"button",onClick:()=>J("quantity"),className:"hover:underline",children:["Quantity ","quantity"===F?"asc"===H?"▲":"▼":""]})}),(0,e.jsx)("th",{className:"py-2 px-3",children:(0,e.jsxs)("button",{type:"button",onClick:()=>J("person"),className:"hover:underline",children:["Person ","person"===F?"asc"===H?"▲":"▼":""]})}),(0,e.jsx)("th",{className:"py-2 pl-3",children:(0,e.jsxs)("button",{type:"button",onClick:()=>J("date"),className:"hover:underline",children:["Date Added ","date"===F?"asc"===H?"▲":"▼":""]})}),(0,e.jsx)("th",{className:"py-2 pl-3"})]})}),(0,e.jsx)("tbody",{children:K.map(a=>(0,e.jsxs)("tr",{className:"border-b border-white/10",children:[(0,e.jsx)("td",{className:"py-2 pr-3 font-medium capitalize",children:a.itemName}),(0,e.jsx)("td",{className:"py-2 px-3",children:a.itemCategory?A(a.itemCategory):(0,e.jsx)("span",{className:"opacity-50",children:"—"})}),(0,e.jsx)("td",{className:"py-2 px-3",children:a.quantity}),(0,e.jsx)("td",{className:"py-2 px-3",children:E.get(a.attendeeId)||a.attendeeName}),(0,e.jsx)("td",{className:"py-2 pl-3 whitespace-nowrap",children:function(a){try{let b=new Date(a);return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"numeric"}).format(b)}catch{return a}}(a.createdAt)}),(0,e.jsx)("td",{className:"py-2 pl-3 pr-2 text-right",children:(0,e.jsx)("button",{type:"button",className:"rounded-md ring-1 ring-rose-400/40 text-rose-300 px-2 py-1 text-xs hover:bg-rose-500/10",onClick:()=>D(a.id),title:"Remove",children:"\uD83D\uDDD1️"})})]},a.id))})]})})})]})}let bD=a=>fetch(a).then(a=>a.json());function bE(){var a;let[b,c]=(0,f.useState)(!1),[d,g]=(0,f.useState)(!1),[h,i]=(0,f.useState)(null),[j,k]=(0,f.useState)("games"),[l,m]=(0,f.useState)("winRate"),[n,o]=(0,f.useState)("desc"),{data:p=[],mutate:q,error:r}=Y("/api/pickleball",bD),{data:s=[]}=Y("/api/attendees",bD);console.log("PickleballTracker - games:",p),console.log("PickleballTracker - error:",r);let[t,u]=(0,f.useState)(""),[v,w]=(0,f.useState)(""),[x,y]=(0,f.useState)(""),[z,A]=(0,f.useState)(""),[B,C]=(0,f.useState)(""),[D,E]=(0,f.useState)(""),[F,G]=(0,f.useState)(""),[H,I]=(0,f.useState)(0),[J,K]=(0,f.useState)(0),[L,M]=(0,f.useState)(""),[N,O]=(0,f.useState)(!1),P=(0,f.useMemo)(()=>{let a=new Map;return s.forEach(b=>{a.set(b.id,{id:b.id,name:b.name,wins:0,losses:0,winRate:0,bestTeammate:null,totalGames:0})}),p.forEach(b=>{let c=[b.team1Player1Id,b.team1Player2Id].filter(a=>!!a),d=[b.team2Player1Id,b.team2Player2Id].filter(a=>!!a),e="team1"===b.winner;c.forEach(b=>{let c=a.get(b);c&&(c.totalGames++,e?c.wins++:c.losses++)}),d.forEach(b=>{let c=a.get(b);c&&(c.totalGames++,e?c.losses++:c.wins++)})}),a.forEach(a=>{a.winRate=a.totalGames>0?a.wins/a.totalGames*100:0;let b=new Map;p.forEach(c=>{let d=[c.team1Player1Id,c.team1Player2Id].filter(a=>!!a),e=[c.team2Player1Id,c.team2Player2Id].filter(a=>!!a);d.includes(a.id)?d.forEach(d=>{if(d!==a.id){let a=b.get(d)||{wins:0,totalGames:0};a.totalGames++,"team1"===c.winner&&a.wins++,b.set(d,a)}}):e.includes(a.id)&&e.forEach(d=>{if(d!==a.id){let a=b.get(d)||{wins:0,totalGames:0};a.totalGames++,"team2"===c.winner&&a.wins++,b.set(d,a)}})});let c=null,d=0;b.forEach((a,b)=>{let e=a.totalGames>0?a.wins/a.totalGames*100:0;if(e>d){d=e;let f=s.find(a=>a.id===b);c=f?{id:f.id,name:f.name,wins:a.wins,totalGames:a.totalGames}:null}}),a.bestTeammate=c}),Array.from(a.values())},[p,s]),Q=(0,f.useMemo)(()=>[...P].sort((a,b)=>{let c,d;switch(l){case"name":c=a.name.toLowerCase(),d=b.name.toLowerCase();break;case"wins":c=a.wins,d=b.wins;break;case"losses":c=a.losses,d=b.losses;break;case"winRate":default:c=a.winRate,d=b.winRate;break;case"totalGames":c=a.totalGames,d=b.totalGames;break;case"bestTeammate":c=a.bestTeammate?a.bestTeammate.wins/a.bestTeammate.totalGames*100:0,d=b.bestTeammate?b.bestTeammate.wins/b.bestTeammate.totalGames*100:0}return"asc"===n?c>d?1:-1:c<d?1:-1}),[P,l,n]);function R(a){l===a?o("asc"===n?"desc":"asc"):(m(a),o("desc"))}function S({field:a}){return l!==a?(0,e.jsx)("span",{className:"text-gray-400",children:"↕"}):"asc"===n?(0,e.jsx)("span",{children:"↑"}):(0,e.jsx)("span",{children:"↓"})}async function T(a){if(a.preventDefault(),z&&D){O(!0);try{(await fetch("/api/pickleball",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:t,time:v||void 0,location:x||void 0,team1Player1Id:z,team1Player2Id:B||void 0,team2Player1Id:D,team2Player2Id:F||void 0,team1Score:H,team2Score:J,notes:L||void 0})})).ok&&(q(),c(!1),u(new Date().toISOString().split("T")[0]),w(""),y(""),A(""),C(""),E(""),G(""),I(0),K(0),M(""))}finally{O(!1)}}}async function U(){h&&(await fetch(`/api/pickleball/${h.id}`,{method:"DELETE"})).ok&&(q(),g(!1),i(null))}function V(a){return s.find(b=>b.id===a)?.name||"Unknown"}function W(a){return new Date(a).toLocaleDateString()}return(0,e.jsxs)("div",{className:"rounded-2xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-6 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold",children:"Pickleball"}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsxs)("div",{className:"flex rounded-lg ring-1 ring-white/10 bg-white/5",children:[(0,e.jsx)("button",{onClick:()=>k("games"),className:`px-3 py-1.5 text-sm rounded-l-lg ${"games"===j?"bg-gradient-to-r from-indigo-500 to-cyan-500 text-white":"hover:bg-white/10"}`,children:"Games"}),(0,e.jsx)("button",{onClick:()=>k("summary"),className:`px-3 py-1.5 text-sm rounded-r-lg ${"summary"===j?"bg-gradient-to-r from-indigo-500 to-cyan-500 text-white":"hover:bg-white/10"}`,children:"Summary"})]}),(0,e.jsx)("button",{onClick:()=>c(!0),className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 hover:opacity-95 text-white font-medium px-3 py-1.5 text-sm",children:"Add Game"})]})]}),b&&(0,e.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,e.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl ring-1 ring-white/10 rounded-xl p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,e.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Add Pickleball Game"}),(0,e.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,e.jsx)("input",{type:"date",value:t,onChange:a=>u(a.target.value),className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",required:!0}),(0,e.jsx)("input",{type:"time",value:v,onChange:a=>w(a.target.value),className:"rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2"})]}),(0,e.jsx)("input",{type:"text",placeholder:"Location (optional)",value:x,onChange:a=>y(a.target.value),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2"}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)("h5",{className:"font-medium",children:"Team 1"}),(0,e.jsxs)("select",{value:z,onChange:a=>A(a.target.value),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",required:!0,children:[(0,e.jsx)("option",{value:"",children:"Select Player 1"}),s.map(a=>(0,e.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,e.jsxs)("select",{value:B,onChange:a=>C(a.target.value),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",children:[(0,e.jsx)("option",{value:"",children:"Select Player 2 (optional)"}),s.map(a=>(0,e.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)("h5",{className:"font-medium",children:"Team 2"}),(0,e.jsxs)("select",{value:D,onChange:a=>E(a.target.value),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",required:!0,children:[(0,e.jsx)("option",{value:"",children:"Select Player 1"}),s.map(a=>(0,e.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,e.jsxs)("select",{value:F,onChange:a=>G(a.target.value),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",children:[(0,e.jsx)("option",{value:"",children:"Select Player 2 (optional)"}),s.map(a=>(0,e.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Team 1 Score"}),(0,e.jsx)("input",{type:"number",min:"0",value:H,onChange:a=>I(parseInt(a.target.value)||0),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",required:!0})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Team 2 Score"}),(0,e.jsx)("input",{type:"number",min:"0",value:J,onChange:a=>K(parseInt(a.target.value)||0),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",required:!0})]})]}),(0,e.jsx)("textarea",{placeholder:"Notes (optional)",value:L,onChange:a=>M(a.target.value),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",rows:3}),(0,e.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,e.jsx)("button",{type:"button",onClick:()=>c(!1),className:"rounded-xl ring-1 ring-white/10 bg-white/5 hover:bg-white/10 px-3 py-1.5 text-sm",disabled:N,children:"Cancel"}),(0,e.jsx)("button",{type:"submit",disabled:N,className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 text-white font-medium px-3 py-1.5 text-sm",children:N?"Saving…":"Save Game"})]})]})]})}),d&&h&&(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,e.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,e.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Delete Game"}),(0,e.jsxs)("p",{className:"text-sm mb-6",children:["Are you sure you want to delete the game from ",W(h.date),h.time&&` at ${(a=h.time)||""}`,"?"]}),(0,e.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,e.jsx)("button",{onClick:function(){g(!1),i(null)},className:"rounded-md border border-zinc-300 dark:border-zinc-700 px-3 py-1.5 text-sm",children:"Cancel"}),(0,e.jsx)("button",{onClick:U,className:"rounded-md bg-red-600 hover:bg-red-500 text-white font-medium px-3 py-1.5 text-sm",children:"Delete"})]})]})}),"summary"===j&&(0,e.jsxs)("div",{className:"space-y-4",children:[r&&(0,e.jsxs)("p",{className:"text-sm text-red-500",children:["Error loading games: ",r.message]}),0===Q.length?(0,e.jsx)("p",{className:"text-sm opacity-70",children:"No players found. Add some games first!"}):(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)("table",{className:"w-full text-sm",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{className:"border-b border-zinc-200 dark:border-zinc-700",children:[(0,e.jsx)("th",{className:"text-left py-2 px-3",children:(0,e.jsxs)("button",{onClick:()=>R("name"),className:"flex items-center gap-1 hover:text-indigo-600",children:["Player ",(0,e.jsx)(S,{field:"name"})]})}),(0,e.jsx)("th",{className:"text-center py-2 px-3",children:(0,e.jsxs)("button",{onClick:()=>R("totalGames"),className:"flex items-center justify-center gap-1 hover:text-indigo-600",children:["Games ",(0,e.jsx)(S,{field:"totalGames"})]})}),(0,e.jsx)("th",{className:"text-center py-2 px-3",children:(0,e.jsxs)("button",{onClick:()=>R("wins"),className:"flex items-center justify-center gap-1 hover:text-indigo-600",children:["Wins ",(0,e.jsx)(S,{field:"wins"})]})}),(0,e.jsx)("th",{className:"text-center py-2 px-3",children:(0,e.jsxs)("button",{onClick:()=>R("losses"),className:"flex items-center justify-center gap-1 hover:text-indigo-600",children:["Losses ",(0,e.jsx)(S,{field:"losses"})]})}),(0,e.jsx)("th",{className:"text-center py-2 px-3",children:(0,e.jsxs)("button",{onClick:()=>R("winRate"),className:"flex items-center justify-center gap-1 hover:text-indigo-600",children:["Win Rate ",(0,e.jsx)(S,{field:"winRate"})]})}),(0,e.jsx)("th",{className:"text-left py-2 px-3",children:(0,e.jsxs)("button",{onClick:()=>R("bestTeammate"),className:"flex items-center gap-1 hover:text-indigo-600",children:["Best Teammate ",(0,e.jsx)(S,{field:"bestTeammate"})]})})]})}),(0,e.jsx)("tbody",{children:Q.map(a=>(0,e.jsxs)("tr",{className:"border-b border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800",children:[(0,e.jsx)("td",{className:"py-3 px-3 font-medium",children:a.name}),(0,e.jsx)("td",{className:"py-3 px-3 text-center",children:a.totalGames}),(0,e.jsx)("td",{className:"py-3 px-3 text-center text-green-600 dark:text-green-400",children:a.wins}),(0,e.jsx)("td",{className:"py-3 px-3 text-center text-red-600 dark:text-red-400",children:a.losses}),(0,e.jsx)("td",{className:"py-3 px-3 text-center",children:(0,e.jsxs)("span",{className:`font-medium ${a.winRate>=50?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[a.winRate.toFixed(1),"%"]})}),(0,e.jsx)("td",{className:"py-3 px-3",children:a.bestTeammate?(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"font-medium",children:a.bestTeammate.name}),(0,e.jsxs)("div",{className:"text-xs opacity-70",children:[a.bestTeammate.wins,"/",a.bestTeammate.totalGames," games (",(a.bestTeammate.wins/a.bestTeammate.totalGames*100).toFixed(1),"%)"]})]}):(0,e.jsx)("span",{className:"opacity-50",children:"No teammates"})})]},a.id))})]})})]}),"games"===j&&(0,e.jsxs)("div",{className:"space-y-4",children:[r&&(0,e.jsxs)("p",{className:"text-sm text-red-500",children:["Error loading games: ",r.message]}),0!==p.length||r?p.map(a=>{var b;return(0,e.jsxs)("div",{className:"rounded-xl p-4 bg-white/5 backdrop-blur-lg ring-1 ring-white/10",children:[(0,e.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"font-medium",children:[W(a.date),a.time&&` at ${(b=a.time)||""}`]}),a.location&&(0,e.jsx)("div",{className:"text-sm opacity-70",children:a.location})]}),(0,e.jsx)("button",{onClick:()=>{i(a),g(!0)},className:"text-rose-300 hover:text-rose-200 text-sm",children:"\uD83D\uDDD1️"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,e.jsxs)("div",{className:`p-3 rounded-lg ring-1 ring-white/10 ${"team1"===a.winner?"bg-emerald-500/15":"bg-white/5"}`,children:[(0,e.jsx)("div",{className:"font-medium",children:"Team 1"}),(0,e.jsxs)("div",{className:"text-sm",children:[V(a.team1Player1Id),a.team1Player2Id&&` & ${V(a.team1Player2Id)}`]}),(0,e.jsx)("div",{className:"text-lg font-bold",children:a.team1Score})]}),(0,e.jsxs)("div",{className:`p-3 rounded-lg ring-1 ring-white/10 ${"team2"===a.winner?"bg-emerald-500/15":"bg-white/5"}`,children:[(0,e.jsx)("div",{className:"font-medium",children:"Team 2"}),(0,e.jsxs)("div",{className:"text-sm",children:[V(a.team2Player1Id),a.team2Player2Id&&` & ${V(a.team2Player2Id)}`]}),(0,e.jsx)("div",{className:"text-lg font-bold",children:a.team2Score})]})]}),a.notes&&(0,e.jsxs)("div",{className:"text-sm opacity-70 italic",children:["“",a.notes,"”"]})]},a.id)}):(0,e.jsx)("p",{className:"text-sm opacity-70",children:"No games recorded yet. Add the first game!"})]})]})}let bF=a=>fetch(a).then(a=>a.json());function bG(){let{data:a,isLoading:b}=Y("/api/attendees",bF),[c,d]=(0,f.useState)([]),[g,h]=(0,f.useState)(""),[i,j]=(0,f.useState)(!1),[k,l]=(0,f.useState)([]),[m,n]=(0,f.useState)(null),o=(0,f.useRef)(null),p=()=>{if(g.trim()){let a=`custom-${Date.now()}`,b={id:a,name:g.trim()};l(a=>[...a,b]),d(b=>[...b,a]),h(""),j(!1)}};if(b)return(0,e.jsx)("div",{className:"rounded-2xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-6 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)("div",{className:"text-lg font-semibold mb-2",children:"Random Picker"}),(0,e.jsx)("div",{className:"text-sm opacity-70",children:"Loading attendees..."})]})});a?.filter(a=>c.includes(a.id));let q=k.filter(a=>c.includes(a.id));return(0,e.jsxs)("div",{className:"random-picker rounded-2xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-6 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold",children:"Random Picker"}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("button",{type:"button",onClick:()=>j(!0),className:"sub-btn",children:"Add Custom Name"}),(0,e.jsx)("button",{type:"button",onClick:()=>{if(0===c.length)return;n(null);let b=a?.filter(a=>c.includes(a.id))||[],d=k.filter(a=>c.includes(a.id)),e=[...b.map(a=>({id:a.id,name:a.name,type:"attendee"})),...d.map(a=>({id:a.id,name:a.name,type:"custom"}))];if(0===e.length)return;let f=e.slice(0,50),g=Math.max(8,Math.floor(20)),h=0;o.current&&window.clearInterval(o.current);let i=window.setInterval(()=>{n(f[Math.floor(Math.random()*f.length)].id),++h>=g&&(window.clearInterval(i),n(f[Math.floor(Math.random()*f.length)].id))},80);o.current=i},disabled:0===(a?.length||0)||0===c.length,className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 hover:opacity-95 text-white font-medium px-3 py-1.5",children:"Spin"})]})]}),i&&(0,e.jsx)("div",{className:"mb-4 p-3 rounded-xl bg-white/5 backdrop-blur-lg ring-1 ring-white/10",children:(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("input",{type:"text",value:g,onChange:a=>h(a.target.value),placeholder:"Enter custom name",className:"flex-1 rounded-md ring-1 ring-white/10 bg-transparent px-3 py-1.5 text-sm text-slate-100 placeholder:text-slate-300/60",onKeyDown:a=>"Enter"===a.key&&p()}),(0,e.jsx)("button",{onClick:p,disabled:!g.trim(),className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 hover:opacity-95 disabled:opacity-50 text-white font-medium px-3 py-1.5 text-sm",children:"Add"}),(0,e.jsx)("button",{onClick:()=>j(!1),className:"sub-btn",children:"Cancel"})]})}),(0,e.jsx)("div",{className:"space-y-3",children:(0,e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a?.map(a=>(0,e.jsx)("button",{onClick:()=>{var b;return b=a.id,void d(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`sub-btn ${m===a.id?"is-highlighted":""}`,"aria-pressed":c.includes(a.id),children:a.name},a.id)),q.map(a=>(0,e.jsxs)("div",{className:"flex items-center gap-1 w-fit",children:[(0,e.jsx)("span",{className:`sub-btn ${c.includes(a.id)?"sub-btn-selected":""} ${m===a.id?"is-highlighted":""}`,children:a.name}),(0,e.jsx)("button",{onClick:()=>{var b;return b=a.id,void(d(a=>a.filter(a=>a!==b)),l(a=>a.filter(a=>a.id!==b)))},className:"text-xs text-rose-300 hover:text-rose-200 p-1",title:"Remove",children:"\xd7"})]},a.id))]})})]})}let bH=a=>fetch(a).then(a=>a.json());function bI(){let[a,b]=(0,f.useState)("games"),{data:c=[]}=Y("/api/attendees",bH),{data:d,mutate:g}=Y("/api/poker",bH),{data:h,mutate:i}=Y("/api/poker/settlement",bH),[j,k]=(0,f.useState)(!1),[l,m]=(0,f.useState)(""),[n,o]=(0,f.useState)(""),[p,q]=(0,f.useState)([]),[r,s]=(0,f.useState)(!1),[t,u]=(0,f.useState)({}),[v,w]=(0,f.useState)({}),[x,y]=(0,f.useState)(null),[z,A]=(0,f.useState)(null),[B,C]=(0,f.useState)(""),[D,E]=(0,f.useState)(null),[F,G]=(0,f.useState)(null),H=a=>c.find(b=>b.id===a)?.name||"Unknown",I=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(a)||0),J=async()=>{if(l&&0!==p.length){s(!0);try{if(!(await fetch("/api/poker",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:l,time:n,players:p.map(a=>({attendeeId:a.attendeeId,buyIn:a.buyIn,cashOut:0}))})})).ok)throw Error("Failed");await g(),m(""),o(""),q([]),k(!1)}finally{s(!1)}}},K=(0,f.useMemo)(()=>h?.summary||[],[h]),L=(0,f.useMemo)(()=>h?.transfers||[],[h]),M=Array.isArray(d)?d:[];function N(a){let b=v[a.id]??{field:"name",dir:"asc"},c=a.players.map(a=>({...a,name:H(a.attendeeId),net:Number((a.cashOut-a.buyIn).toFixed(2)),status:a.status??"active"}));return c.sort((a,c)=>{let d=a.name.toLowerCase(),e=c.name.toLowerCase();if("buyIn"===b.field?(d=a.buyIn,e=c.buyIn):"cashOut"===b.field?(d=a.cashOut,e=c.cashOut):"net"===b.field&&(d=a.net,e=c.net),d===e)return 0;let f=String(d)>String(e)?1:-1;return"asc"===b.dir?f:-f}),c}function O(a,b){w(c=>{let d=c[a]??{field:"name",dir:"asc"};return d.field===b?{...c,[a]:{field:b,dir:"asc"===d.dir?"desc":"asc"}}:{...c,[a]:{field:b,dir:"asc"}}})}async function P(a){await fetch(`/api/poker?id=${encodeURIComponent(a)}`,{method:"DELETE"}),g()}async function Q(a){let b=M.find(b=>b.id===a);if(!b)return;if(b.players.some(a=>"finished"!==a.status))return void alert("All players must be finished before marking the game as finished.");let c=Math.round(100*b.players.reduce((a,b)=>a+(Number(b.cashOut)-Number(b.buyIn)),0))/100;if(0!==c)return void G({amount:c});await fetch(`/api/poker?id=${encodeURIComponent(a)}&status=finished`,{method:"PATCH"}),await g(),i()}async function R(a){await fetch(`/api/poker?id=${encodeURIComponent(a)}&status=active`,{method:"PATCH"}),await g(),i()}function S(a,b){let c=M.find(b=>b.id===a),d=c?.players.find(a=>a.id===b);return{game:c,player:d}}async function T(){if(!x)return;let{game:a,player:b}=S(x.gameId,x.playerId);if(!a||!b)return;let c=Math.max(0,Number(B)||0),d={id:b.id,attendeeId:b.attendeeId,buyIn:Number((b.buyIn+c).toFixed(2)),cashOut:b.cashOut,status:"active"};await fetch(`/api/poker/${encodeURIComponent(a.id)}/players`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),y(null),await g(),i()}async function U(){if(!z)return;let{game:a,player:b}=S(z.gameId,z.playerId);if(!a||!b)return;let c=Math.max(0,Number(B)||0),d={id:b.id,attendeeId:b.attendeeId,buyIn:b.buyIn,cashOut:Number(c.toFixed(2)),status:"finished"};await fetch(`/api/poker/${encodeURIComponent(a.id)}/players`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),A(null),await g(),i()}async function V(a,b){let{game:c,player:d}=S(a,b);if(!c||!d)return;let e={id:d.id,attendeeId:d.attendeeId,buyIn:d.buyIn,cashOut:0,status:"finished"};await fetch(`/api/poker/${encodeURIComponent(c.id)}/players`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),await g(),i()}return(0,e.jsxs)("div",{className:"rounded-2xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-6 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold",children:"Poker"}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsxs)("div",{className:"flex rounded-lg ring-1 ring-white/10 bg-white/5",children:[(0,e.jsx)("button",{onClick:()=>b("games"),className:`px-3 py-1.5 text-sm rounded-l-lg ${"games"===a?"bg-gradient-to-r from-indigo-500 to-cyan-500 text-white":"hover:bg-white/10"}`,children:"Games"}),(0,e.jsx)("button",{onClick:()=>b("summary"),className:`px-3 py-1.5 text-sm ${"summary"===a?"bg-gradient-to-r from-indigo-500 to-cyan-500 text-white":"hover:bg-white/10"}`,children:"Summary"}),(0,e.jsx)("button",{onClick:()=>b("bill"),className:`px-3 py-1.5 text-sm rounded-r-lg ${"bill"===a?"bg-gradient-to-r from-indigo-500 to-cyan-500 text-white":"hover:bg-white/10"}`,children:"Bill"})]}),(0,e.jsx)("button",{onClick:()=>k(!0),className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 hover:opacity-95 text-white font-medium px-3 py-1.5 text-sm",children:"Add Game"})]})]}),"games"===a&&(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)("div",{className:"space-y-4",children:M.map(a=>(0,e.jsxs)("div",{className:"rounded-xl p-4 bg-white/5 backdrop-blur-lg ring-1 ring-white/10",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"font-medium",children:[a.date,a.time?` ${a.time}`:""]}),(0,e.jsx)("div",{className:"text-xs mt-0.5",children:(0,e.jsx)("span",{className:`inline-block px-2 py-0.5 rounded-full ring-1 ring-white/15 ${"finished"===a.status?"bg-white/10":"bg-emerald-500/20 text-emerald-300"}`,children:"finished"===a.status?"Finished":"Active"})})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:["finished"===a.status?(0,e.jsx)("button",{onClick:()=>R(a.id),className:"rounded-md ring-1 ring-white/10 bg-white/5 hover:bg-white/10 px-2 py-1 text-xs",children:"Reopen"}):(0,e.jsx)("button",{onClick:()=>Q(a.id),className:"rounded-md ring-1 ring-white/10 bg-white/5 hover:bg-white/10 px-2 py-1 text-xs",children:"Mark Finished"}),(0,e.jsx)("button",{onClick:()=>E({gameId:a.id}),className:"rounded-md ring-1 ring-rose-400/40 text-rose-300 px-2 py-1 text-xs",children:"Delete"})]})]}),(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)("table",{className:"min-w-full text-sm",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{className:"border-b border-white/10 text-left",children:[(0,e.jsx)("th",{className:"py-2 px-2",children:(0,e.jsx)("button",{onClick:()=>O(a.id,"name"),className:"hover:text-indigo-600",children:"Player"})}),(0,e.jsx)("th",{className:"py-2 px-2 text-right",children:(0,e.jsx)("button",{onClick:()=>O(a.id,"buyIn"),className:"hover:text-indigo-600",children:"Buy-in"})}),(0,e.jsx)("th",{className:"py-2 px-2 text-right",children:(0,e.jsx)("button",{onClick:()=>O(a.id,"cashOut"),className:"hover:text-indigo-600",children:"Cash-out"})}),(0,e.jsx)("th",{className:"py-2 px-2 text-right",children:(0,e.jsx)("button",{onClick:()=>O(a.id,"net"),className:"hover:text-indigo-600",children:"Net"})}),"finished"!==a.status&&(0,e.jsx)("th",{className:"py-2 px-2 text-right",children:"Actions"})]})}),(0,e.jsxs)("tbody",{children:[0===N(a).length&&(0,e.jsx)("tr",{children:(0,e.jsx)("td",{colSpan:"finished"!==a.status?5:4,className:"py-3 px-2 text-sm opacity-70",children:"No players to display."})}),N(a).map(b=>(0,e.jsxs)("tr",{className:"border-b border-white/10",children:[(0,e.jsx)("td",{className:"py-2 px-2",children:(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"font-medium",children:b.name}),(0,e.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full ring-1 ring-white/15 ${"finished"===b.status?"bg-white/10":"bg-emerald-500/20 text-emerald-300"}`,children:"finished"===b.status?"Finished":"Active"})]})}),(0,e.jsx)("td",{className:"py-2 px-2 text-right",children:I(b.buyIn)}),(0,e.jsx)("td",{className:"py-2 px-2 text-right",children:I(b.cashOut)}),(0,e.jsx)("td",{className:`py-2 px-2 text-right ${b.net>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"}`,children:I(b.net)}),"finished"!==a.status&&(0,e.jsx)("td",{className:"py-2 px-2 text-right",children:(0,e.jsx)("div",{className:"inline-flex gap-2",children:"active"===b.status?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{onClick:()=>(function(a,b){let{game:c,player:d}=S(a,b);if(c&&d){let a=c.players.reduce((a,b)=>a+(Number(b.cashOut)-Number(b.buyIn)),0);C(Math.max(0,Number((Number(d.cashOut)-a).toFixed(2))).toFixed(2))}else C("");A({gameId:a,playerId:b})})(a.id,b.id),className:"rounded-md bg-gradient-to-r from-indigo-500 to-cyan-500 text-white px-2 py-1 text-xs",children:"Cash Out"}),(0,e.jsx)("button",{onClick:()=>V(a.id,b.id),className:"rounded-md bg-rose-600/80 hover:bg-rose-600 text-white px-2 py-1 text-xs",children:"Bust"})]}):(0,e.jsx)("button",{onClick:()=>{var c,d;return c=a.id,d=b.id,void(C("20.00"),y({gameId:c,playerId:d}))},className:"rounded-md bg-gradient-to-r from-indigo-500 to-cyan-500 text-white px-2 py-1 text-xs",children:"Rebuy"})})})]},b.id)),N(a).length>0&&(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{className:"py-2 px-2 font-semibold text-right",children:"Totals:"}),(0,e.jsx)("td",{className:"py-2 px-2 text-right font-semibold",children:I(N(a).reduce((a,b)=>a+b.buyIn,0))}),(0,e.jsx)("td",{className:"py-2 px-2 text-right font-semibold",children:I(N(a).reduce((a,b)=>a+b.cashOut,0))}),(0,e.jsx)("td",{className:"py-2 px-2 text-right font-semibold",children:I(N(a).reduce((a,b)=>a+b.net,0))}),"finished"!==a.status&&(0,e.jsx)("td",{})]})]})]})})]},a.id))}),j&&(0,e.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>k(!1)}),(0,e.jsxs)("div",{className:"relative z-10 w-[min(640px,92vw)] rounded-xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-5 shadow-xl",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsx)("div",{className:"text-lg font-semibold",children:"New Poker Game"}),(0,e.jsx)("button",{onClick:()=>k(!1),className:"text-zinc-500 hover:text-zinc-700",children:"\xd7"})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm mb-1",children:"Date and Time"}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,e.jsx)("input",{type:"date",value:l,onChange:a=>m(a.target.value),className:"rounded-md ring-1 ring-white/10 bg-transparent px-3 py-1.5 text-sm w-full"}),(0,e.jsx)("input",{type:"time",value:n,onChange:a=>o(a.target.value),className:"rounded-md ring-1 ring-white/10 bg-transparent px-3 py-1.5 text-sm w-full"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"grid grid-cols-[minmax(10rem,1fr)_120px_40px] gap-2 text-xs uppercase tracking-wide opacity-70 mb-1",children:[(0,e.jsx)("div",{children:"Attendee"}),(0,e.jsx)("div",{children:"Buy-in"}),(0,e.jsx)("div",{})]}),(0,e.jsx)("div",{className:"max-h-[50vh] overflow-y-auto space-y-2 pr-1",children:p.map((a,b)=>(0,e.jsxs)("div",{className:"grid grid-cols-[minmax(10rem,1fr)_120px_40px] gap-2 items-center",children:[(0,e.jsx)("select",{value:a.attendeeId,onChange:a=>q(c=>c.map((c,d)=>d===b?{...c,attendeeId:a.target.value}:c)),className:"rounded-md ring-1 ring-white/10 bg-transparent px-2 py-1 text-sm",children:c.map(a=>(0,e.jsx)("option",{value:a.id,children:a.name},a.id))}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 pointer-events-none opacity-70",children:"$"}),(0,e.jsx)("input",{type:"number",min:0,step:.01,placeholder:"0.00",value:a.buyIn,onChange:a=>q(c=>c.map((c,d)=>d===b?{...c,buyIn:Number(a.target.value)}:c)),className:"rounded-md ring-1 ring-white/10 bg-transparent pl-5 pr-2 py-1 text-sm w-full"})]}),(0,e.jsx)("button",{onClick:()=>q(a=>a.filter((a,c)=>c!==b)),className:"h-8 w-8 inline-flex items-center justify-center rounded-md text-rose-600 hover:text-rose-500","aria-label":"Remove",children:"\xd7"})]},b))})]}),(0,e.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,e.jsx)("button",{onClick:()=>k(!1),className:"px-3 py-1.5 rounded-xl ring-1 ring-white/10 bg-white/5 hover:bg-white/10 text-sm",children:"Cancel"}),(0,e.jsx)("button",{onClick:J,disabled:r||!l||0===p.length,className:"px-3 py-1.5 rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 text-white text-sm disabled:opacity-50",children:"Create Game"})]})]})]})]})]}),(x||z)&&(0,e.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>{y(null),A(null)}}),(0,e.jsxs)("div",{className:"relative z-10 w-[min(420px,92vw)] rounded-xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-5 shadow-xl",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsx)("div",{className:"text-lg font-semibold",children:x?"Rebuy":"Cash Out"}),(0,e.jsx)("button",{onClick:()=>{y(null),A(null)},className:"text-zinc-500 hover:text-zinc-700",children:"\xd7"})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm mb-1",children:"Amount"}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 pointer-events-none opacity-70",children:"$"}),(0,e.jsx)("input",{type:"number",min:0,step:.01,value:B,onChange:a=>C(a.target.value),className:"rounded-md ring-1 ring-white/10 bg-transparent pl-5 pr-2 py-1.5 text-sm w-full"})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,e.jsx)("button",{onClick:()=>{y(null),A(null)},className:"px-3 py-1.5 rounded-xl ring-1 ring-white/10 bg-white/5 hover:bg-white/10 text-sm",children:"Cancel"}),x?(0,e.jsx)("button",{onClick:T,className:"px-3 py-1.5 rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 text-white text-sm",children:"Add Rebuy"}):(0,e.jsx)("button",{onClick:U,className:"px-3 py-1.5 rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 text-white text-sm",children:"Set Cash Out"})]})]})]})]}),D&&(0,e.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>E(null)}),(0,e.jsxs)("div",{className:"relative z-10 w-[min(440px,92vw)] rounded-xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-5 shadow-xl",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsx)("div",{className:"text-lg font-semibold",children:"Delete Game"}),(0,e.jsx)("button",{onClick:()=>E(null),className:"text-zinc-500 hover:text-zinc-700",children:"\xd7"})]}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)("p",{className:"text-sm",children:"Are you sure you want to delete this game? This action cannot be undone."}),(0,e.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,e.jsx)("button",{onClick:()=>E(null),className:"px-3 py-1.5 rounded-xl ring-1 ring-white/10 bg-white/5 hover:bg-white/10 text-sm",children:"Cancel"}),(0,e.jsx)("button",{onClick:async()=>{D&&(await P(D.gameId),E(null))},className:"px-3 py-1.5 rounded-xl bg-rose-600/80 hover:bg-rose-600 text-white text-sm",children:"Delete"})]})]})]})]}),F&&(0,e.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>G(null)}),(0,e.jsxs)("div",{className:"relative z-10 w-[min(440px,92vw)] rounded-xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-5 shadow-xl",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsx)("div",{className:"text-lg font-semibold",children:"Cannot Finish Game"}),(0,e.jsx)("button",{onClick:()=>G(null),className:"text-zinc-500 hover:text-zinc-700",children:"\xd7"})]}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)("p",{className:"text-sm",children:"Net total must be exactly $0.00 to finish the game."}),(0,e.jsxs)("p",{className:"text-sm",children:["Current net total: ",(0,e.jsx)("span",{className:`${0===F.amount?"":F.amount>0?"text-emerald-400":"text-rose-400"}`,children:I(F.amount)})]}),(0,e.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,e.jsx)("button",{onClick:()=>G(null),className:"px-3 py-1.5 rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 text-white text-sm",children:"OK"})})]})]})]}),"summary"===a&&(0,e.jsx)("div",{className:"space-y-2",children:K.map(a=>(0,e.jsxs)("div",{className:"flex items-center justify-between rounded-md ring-1 ring-white/10 bg-white/5 px-3 py-2",children:[(0,e.jsx)("div",{className:"font-medium",children:H(a.attendeeId)}),(0,e.jsx)("div",{className:a.net>=0?"text-emerald-400":"text-rose-400",children:I(a.net)})]},a.attendeeId))}),"bill"===a&&(0,e.jsxs)("div",{className:"space-y-3",children:[L.map(a=>{let b=`${a.fromAttendeeId}->${a.toAttendeeId}`,c=!!t[b];return(0,e.jsxs)("div",{className:`flex items-center justify-between rounded-md border px-3 py-2 ${c?"border-green-300 bg-green-50 dark:bg-green-900/20":"border-zinc-200 dark:border-zinc-800"}`,children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"text-sm",children:[H(a.fromAttendeeId)," pays ",H(a.toAttendeeId)]}),(0,e.jsx)("div",{className:"font-semibold",children:I(a.amount)})]}),(0,e.jsx)("button",{onClick:()=>u(a=>({...a,[b]:!a[b]})),className:`px-3 py-1.5 rounded-md text-sm ${c?"bg-green-600 text-white":"bg-zinc-100 dark:bg-zinc-800"}`,children:c?"Paid":"Mark Paid"})]},b)}),0===L.length&&(0,e.jsx)("div",{className:"text-sm opacity-70",children:"Everyone is already settled up."})]})]})}function bJ(a,b){let c,d,e=()=>a_(b?.in,NaN),f=b?.additionalDigits??2,g=function(a){let b,c={},d=a.split(bK.dateTimeDelimiter);if(d.length>2)return c;if(/:/.test(d[0])?b=d[0]:(c.date=d[0],b=d[1],bK.timeZoneDelimiter.test(c.date)&&(c.date=a.split(bK.timeZoneDelimiter)[0],b=a.substr(c.date.length,a.length))),b){let a=bK.timezone.exec(b);a?(c.time=b.replace(a[1],""),c.timezone=a[1]):c.time=b}return c}(a);if(g.date){let a=function(a,b){let c=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+b)+"})|(\\d{2}|[+-]\\d{"+(2+b)+"})$)"),d=a.match(c);if(!d)return{year:NaN,restDateString:""};let e=d[1]?parseInt(d[1]):null,f=d[2]?parseInt(d[2]):null;return{year:null===f?e:100*f,restDateString:a.slice((d[1]||d[2]).length)}}(g.date,f);c=function(a,b){var c,d,e,f,g,h,i;if(null===b)return new Date(NaN);let j=a.match(bL);if(!j)return new Date(NaN);let k=!!j[4],l=bO(j[1]),m=bO(j[2])-1,n=bO(j[3]),o=bO(j[4]),p=bO(j[5])-1;if(k){return(c=o,d=p,c>=1&&c<=53&&d>=0&&d<=6)?function(a,b,c){let d=new Date(0);d.setUTCFullYear(a,0,4);let e=d.getUTCDay()||7;return d.setUTCDate(d.getUTCDate()+((b-1)*7+c+1-e)),d}(b,o,p):new Date(NaN)}{let a=new Date(0);return(e=b,f=m,g=n,f>=0&&f<=11&&g>=1&&g<=(bQ[f]||(bR(e)?29:28))&&(h=b,(i=l)>=1&&i<=(bR(h)?366:365)))?(a.setUTCFullYear(b,m,Math.max(l,n)),a):new Date(NaN)}}(a.restDateString,a.year)}if(!c||isNaN(+c))return e();let h=+c,i=0;if(g.time&&isNaN(i=function(a){var b,c,d;let e=a.match(bM);if(!e)return NaN;let f=bP(e[1]),g=bP(e[2]),h=bP(e[3]);return(b=f,c=g,d=h,24===b?0===c&&0===d:d>=0&&d<60&&c>=0&&c<60&&b>=0&&b<25)?36e5*f+6e4*g+1e3*h:NaN}(g.time)))return e();if(g.timezone){if(isNaN(d=function(a){var b;if("Z"===a)return 0;let c=a.match(bN);if(!c)return 0;let d="+"===c[1]?-1:1,e=parseInt(c[2]),f=c[3]&&parseInt(c[3])||0;return(b=f)>=0&&b<=59?d*(36e5*e+6e4*f):NaN}(g.timezone)))return e()}else{let a=new Date(h+i),c=a0(0,b?.in);return c.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),c.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),c}return a0(h+i+d,b?.in)}let bK={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,bM=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,bN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function bO(a){return a?parseInt(a):1}function bP(a){return a&&parseFloat(a.replace(",","."))||0}let bQ=[31,null,31,30,31,30,31,31,30,31,30,31];function bR(a){return a%400==0||a%4==0&&a%100!=0}function bS(){let a=(0,f.useMemo)(()=>a2(bJ(Z)),[]),b=(0,f.useMemo)(()=>a2(bJ($)),[]),c=(0,f.useMemo)(()=>(function(a,b){let c=a3(b,a),d=[];for(let b=0;b<=c;b++)d.push(function(a,b,c){let d=a0(a,void 0);return isNaN(b)?a_(a,NaN):(b&&d.setDate(d.getDate()+b),d)}(a,b));return d})(a,b),[a,b]),[d,g]=(0,f.useState)([]),[h,i]=(0,f.useState)(!1),[j,k]=(0,f.useState)(null),[l,m]=(0,f.useState)(""),[n,o]=(0,f.useState)(()=>bz(a,"yyyy-MM-dd")),[p,q]=(0,f.useState)("10:00"),[r,s]=(0,f.useState)("11:00"),[t,u]=(0,f.useState)("emerald"),[v,w]=(0,f.useState)(null),[x,y]=(0,f.useState)(null),{data:z,mutate:A}=Y("/api/schedule",a=>fetch(a).then(a=>a.json())),B=(0,f.useMemo)(()=>{let a={};for(let b of c){let c=bz(b,"yyyy-MM-dd"),e=d.filter(a=>a.date===c);a[c]=function(a){let b=[...a].sort((a,b)=>a.start<b.start?-1:1),c=[],d=[];for(let a of b){let b=bU(a.start),e=bU(a.end),f=0;for(;;){c[f]||(c[f]=[]);let g=c[f];if(!g.some(a=>b<a.endMin)){g.push({endMin:e}),d.push({...a,lane:f});break}f++}}return d}(e)}return a},[c,d]),C=(0,f.useMemo)(()=>Array.from({length:18},(a,b)=>7+b),[]),D=(0,f.useMemo)(()=>C.slice(0,-1),[C]),E=(0,f.useMemo)(()=>918,[]),F=(0,f.useRef)({});async function G(c){if(c.preventDefault(),l.trim()){var d,e,f;d=n,e=a,f=b,function(a,b,c){let d=+a0(a,void 0),[e,f]=[+a0(b.start,void 0),+a0(b.end,c?.in)].sort((a,b)=>a-b);return d>=e&&d<=f}(bJ(d),{start:e,end:f})&&(j?await fetch(`/api/schedule/${encodeURIComponent(j)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:l.trim(),date:n,start:p,end:r,color:t})}):await fetch("/api/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:l.trim(),date:n,start:p,end:r,color:t})}),A(),i(!1),m(""),k(null))}}async function H(a){await fetch(`/api/schedule/${encodeURIComponent(a)}`,{method:"DELETE"}),A()}function I(){window.addEventListener("mousemove",J),window.addEventListener("mouseup",K),document.body.style.cursor="grabbing"}function J(a){y(b=>{if(!b)return b;if("move"===b.mode){let c=function(a,b){for(let[c,d]of Object.entries(F.current)){if(!d)continue;let e=d.getBoundingClientRect();if(a>=e.left&&a<=e.right&&b>=e.top&&b<=e.bottom)return{key:c,rect:e}}return null}(a.clientX,a.clientY),d=b.origEndMin-b.origStartMin;if(c){let{key:e,rect:f}=c,g=bY(0,1020-d,30*Math.round((a.clientY-f.top)/54*60/30));return{...b,dateKey:e,startMin:g,endMin:g+d}}{let c=30*Math.round((a.clientY-b.startY)/54*60/30),e=bY(0,1020-d,b.origStartMin+c);return{...b,startMin:e,endMin:e+d}}}{let c=30*Math.round((a.clientY-b.startY)/54*60/30),d=bY(b.origStartMin+30,1020,b.origEndMin+c);return{...b,endMin:d}}})}function K(){y(a=>{if(!a)return a;let b=420+a.startMin,c=420+a.endMin,d={date:a.dateKey,start:bV(b),end:bV(c)};return fetch(`/api/schedule/${encodeURIComponent(a.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then(()=>A()),null}),window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",K),document.body.style.cursor=""}return(0,e.jsxs)("div",{className:"rounded-2xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-4 md:p-5 shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)]",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-3",children:[(0,e.jsx)("div",{className:"text-lg font-semibold",children:"Schedule"}),(0,e.jsx)("button",{onClick:()=>{k(null),i(!0)},className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 hover:opacity-95 text-white font-medium px-3 py-1.5 text-sm",children:"Add Activity"})]}),(0,e.jsx)("div",{className:"overflow-x-auto no-scrollbar",children:(0,e.jsxs)("div",{className:"min-w-[720px]",children:[(0,e.jsxs)("div",{className:"flex items-end gap-3 mb-1",children:[(0,e.jsx)("div",{className:"w-16 shrink-0"}),(0,e.jsx)("div",{className:"flex gap-3 flex-1",children:c.map(a=>(0,e.jsx)("div",{className:"flex-1 min-w-[180px] text-sm font-medium",children:bz(a,"EEE, MMM d")},bz(a,"yyyy-MM-dd")))})]}),(0,e.jsxs)("div",{className:"flex gap-3",children:[(0,e.jsx)("div",{className:"w-16 shrink-0",children:(0,e.jsx)("div",{className:"relative",style:{height:E},children:D.map((a,b)=>{var c;return(0,e.jsxs)("div",{className:"absolute left-0 right-0",style:{top:54*b},children:[(0,e.jsx)("div",{className:"h-px w-full bg-white/10"}),(0,e.jsx)("div",{className:"absolute -translate-y-2 text-[10px] opacity-60",children:(c=a,`${(c+11)%12+1}${c>=12?"pm":"am"}`)})]},a)})})}),(0,e.jsx)("div",{className:"flex gap-3 flex-1",children:c.map(a=>{let b=bz(a,"yyyy-MM-dd"),c=B[b]||[],d=100/Math.max(1,Math.max(0,...c.map(a=>a.lane))+1);return(0,e.jsx)("div",{className:"flex-1 min-w-[180px]",children:(0,e.jsxs)("div",{ref:a=>{F.current[b]=a},className:"relative rounded-xl ring-1 ring-white/10 bg-white/5",style:{height:E},children:[D.map((a,b)=>(0,e.jsx)("div",{className:"absolute left-0 right-0 h-px bg-white/10",style:{top:54*b}},a)),c.map(a=>{let c=bU(a.start)/60*54,f=Math.max(24,Math.max(0,bU(a.end)-bU(a.start))/60*54),g=a.lane*d,h=function(a){switch(a){case"indigo":return"bg-indigo-500/80";case"cyan":return"bg-cyan-500/80";case"violet":return"bg-violet-500/80";case"rose":return"bg-rose-500/80";case"amber":return"bg-amber-500/80";default:return"bg-emerald-500/80"}}(a.color||"emerald"),i=function(a){switch(a){case"indigo":return"ring-1 ring-indigo-300/50";case"cyan":return"ring-1 ring-cyan-300/50";case"violet":return"ring-1 ring-violet-300/50";case"rose":return"ring-1 ring-rose-300/60";case"amber":return"ring-1 ring-amber-300/60";default:return"ring-1 ring-emerald-300/50"}}(a.color||"emerald"),j=f<34,k=x&&x.id===a.id&&x.dateKey===b,l=k?x.startMin/60*54:c,m=k?Math.max(24,(x.endMin-x.startMin)/60*54):f;return(0,e.jsxs)("div",{className:`activity-card absolute rounded-lg ${h} ${i} text-white shadow flex flex-col z-10 cursor-pointer overflow-hidden`,style:{top:l,left:`${g}%`,width:`${d-2}%`,height:m,opacity:k?.9:1},title:`${a.title} (${bW(a.start)}–${bW(a.end)})`,onMouseDown:c=>{if(0===c.button&&!(c.detail>1)){c.preventDefault();let d=bU(a.start),e=bU(a.end),f=c.clientY;y({id:a.id,mode:"move",dateKey:b,startMin:d,endMin:e,origStartMin:d,origEndMin:e,startY:f}),I()}},onDoubleClick:()=>w(a),children:[(0,e.jsx)("div",{className:`${j?"px-2 pt-0.5 pb-0 text-[11px]":"px-2 pt-1 text-sm"} font-semibold leading-tight truncate`,children:a.title}),!j&&m>=38&&(0,e.jsxs)("div",{className:"px-2 pb-1 text-[10px] opacity-80",children:[bW(a.start)," – ",bW(a.end)]}),(0,e.jsx)("button",{onClick:b=>{b.stopPropagation(),H(a.id)},className:"absolute top-0.5 right-1 text-[10px] opacity-80 hover:opacity-100",children:"\xd7"}),(0,e.jsx)("div",{className:"absolute left-0 right-0 bottom-0 h-2 cursor-ns-resize",onMouseDown:c=>(function(a,b,c){a.preventDefault(),a.stopPropagation();let d=bU(b.start),e=bU(b.end),f=a.clientY;y({id:b.id,mode:"resize",dateKey:c,startMin:d,endMin:e,origStartMin:d,origEndMin:e,startY:f}),I()})(c,a,b),title:"Drag to resize"})]},a.id)}),x&&x.dateKey===b&&(0,e.jsx)("div",{className:"absolute left-0 right-0 pointer-events-none rounded-lg bg-cyan-400/15 ring-2 ring-cyan-300/60",style:{top:x.startMin/60*54,height:Math.max(24,(x.endMin-x.startMin)/60*54)}}),(0,e.jsx)(bT,{onActivate:a=>(function(a,b){if(a.target.closest(".activity-card"))return;let c=a.currentTarget.getBoundingClientRect(),d=Math.max(0,Math.min(30*Math.floor(Math.max(0,Math.min(1020,(a.clientY-c.top)/54*60))/30),990)),e=Math.min(d+30,1020),f=bV(d+420),g=bV(e+420);o(b),q(f),s(g),m(""),k(null),i(!0)})(a,b)})]})},b)})})]})]})}),h&&(0,e.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-black/60",onClick:()=>i(!1)}),(0,e.jsxs)("div",{className:"modal-dark relative z-10 w-[min(560px,92vw)] rounded-xl bg-white/10 backdrop-blur-2xl ring-1 ring-white/15 p-5 shadow-2xl",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsx)("div",{className:"text-lg font-semibold",children:j?"Edit Activity":"Add Activity"}),(0,e.jsx)("button",{onClick:()=>i(!1),className:"opacity-70 hover:opacity-100",children:"\xd7"})]}),(0,e.jsxs)("form",{onSubmit:G,className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,e.jsxs)("div",{className:"sm:col-span-2",children:[(0,e.jsx)("label",{className:"block text-sm mb-1",children:"Title"}),(0,e.jsx)("input",{value:l,onChange:a=>m(a.target.value),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2",placeholder:"Activity title"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm mb-1",children:"Date"}),(0,e.jsx)("input",{type:"date",value:n,onChange:a=>o(a.target.value),min:bz(a,"yyyy-MM-dd"),max:bz(b,"yyyy-MM-dd"),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2 text-slate-100",style:{colorScheme:"dark"}})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm mb-1",children:"Start"}),(0,e.jsx)("input",{type:"time",value:p,onChange:a=>q(a.target.value),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2 text-slate-100",style:{colorScheme:"dark"}})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm mb-1",children:"End"}),(0,e.jsx)("input",{type:"time",value:r,onChange:a=>s(a.target.value),className:"w-full rounded-lg ring-1 ring-white/10 bg-transparent px-3 py-2 text-slate-100",style:{colorScheme:"dark"}})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm mb-1",children:"Color"}),(0,e.jsx)("div",{className:"flex gap-2",children:["emerald","indigo","cyan","violet","rose","amber"].map(a=>(0,e.jsx)("button",{type:"button",onClick:()=>u(a),className:`h-8 w-8 rounded-full ring-2 ${t===a?"ring-white":"ring-white/20"} ${bX(a)}`,"aria-label":a},a))})]}),(0,e.jsxs)("div",{className:"sm:col-span-2 flex items-center justify-end gap-2 mt-1",children:[(0,e.jsx)("button",{type:"button",onClick:()=>i(!1),className:"rounded-xl ring-1 ring-white/10 bg-white/5 hover:bg-white/10 px-3 py-1.5 text-sm",children:"Cancel"}),(0,e.jsx)("button",{type:"submit",className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 text-white px-3 py-1.5 text-sm",children:j?"Save":"Add"})]})]})]})]}),v&&(0,e.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,e.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>w(null)}),(0,e.jsxs)("div",{className:"relative z-10 w-[min(520px,92vw)] rounded-xl bg-white/5 backdrop-blur-xl ring-1 ring-white/10 p-5 shadow-xl",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,e.jsx)("div",{className:"text-lg font-semibold",children:"Activity Details"}),(0,e.jsx)("button",{onClick:()=>w(null),className:"opacity-70 hover:opacity-100",children:"\xd7"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs opacity-70",children:"Title"}),(0,e.jsx)("div",{className:"text-sm font-medium",children:v.title})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs opacity-70",children:"Date"}),(0,e.jsx)("div",{className:"text-sm",children:v.date})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs opacity-70",children:"Time"}),(0,e.jsxs)("div",{className:"text-sm",children:[v.start," – ",v.end]})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("div",{className:"text-xs opacity-70",children:"Color"}),(0,e.jsx)("div",{className:`h-4 w-4 rounded-full ${bX(v.color||"emerald")}`})]})]}),(0,e.jsxs)("div",{className:"mt-4 flex items-center justify-end gap-2",children:[(0,e.jsx)("button",{onClick:()=>{k(v.id),m(v.title),o(v.date),q(v.start),s(v.end),u(v.color||"emerald"),w(null),i(!0)},className:"rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 text-white px-3 py-1.5 text-sm",children:"Edit"}),(0,e.jsx)("button",{onClick:()=>w(null),className:"rounded-xl ring-1 ring-white/10 bg-white/5 hover:bg-white/10 px-3 py-1.5 text-sm",children:"Close"}),(0,e.jsx)("button",{onClick:()=>{H(v.id),w(null)},className:"rounded-xl bg-rose-600/80 hover:bg-rose-600 text-white px-3 py-1.5 text-sm",children:"Delete"})]})]})]})]})}function bT({onActivate:a}){let b=(0,f.useRef)(null);return(0,f.useRef)(null),(0,e.jsx)("div",{ref:b,className:"absolute inset-0 z-0"})}function bU(a){let[b,c]=a.split(":").map(Number);return Math.max(0,(b-7)*60+(c||0))}function bV(a){let b=String(Math.floor(a/60)).padStart(2,"0"),c=String(a%60).padStart(2,"0");return`${b}:${c}`}function bW(a){let[b,c]=a.split(":"),d=Number(b),e=Number(c)||0,f=d>=12?"pm":"am";return d=(d+11)%12+1,`${d}:${String(e).padStart(2,"0")}${f}`}function bX(a){switch(a){case"indigo":return"bg-indigo-500";case"cyan":return"bg-cyan-500";case"violet":return"bg-violet-500";case"rose":return"bg-rose-500";case"amber":return"bg-amber-500";default:return"bg-emerald-500"}}function bY(a,b,c){return Math.min(b,Math.max(a,c))}var bZ=c(5773);function b$(){let a=(0,bZ.useRouter)(),b=(0,bZ.usePathname)(),c=(0,bZ.useSearchParams)(),d=(()=>{let a=c.get("tab");return["overview","planning","schedule","games","bill"].includes(a)?a:"overview"})(),[g,h]=(0,f.useState)(d),i=d=>{if(d===g)return;h(d);let e=new URLSearchParams(c);e.set("tab",d),a.push(`${b}?${e.toString()}`)};return(0,e.jsxs)("div",{className:"space-y-6 pb-24",children:[(0,e.jsx)("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50",children:(0,e.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-2xl bg-black/40 backdrop-blur-2xl ring-1 ring-white/20 px-2.5 py-2 shadow-[0_20px_40px_-12px_rgba(0,0,0,0.6)]",children:[(0,e.jsx)(b_,{label:"Overview",active:"overview"===g,onClick:()=>i("overview")}),(0,e.jsx)(b_,{label:"Planning",active:"planning"===g,onClick:()=>i("planning")}),(0,e.jsx)(b_,{label:"Schedule",active:"schedule"===g,onClick:()=>i("schedule")}),(0,e.jsx)(b_,{label:"Games",active:"games"===g,onClick:()=>i("games")}),(0,e.jsx)(b_,{label:"Money",active:"bill"===g,onClick:()=>i("bill")})]})}),"overview"===g&&(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsx)(bA,{}),(0,e.jsx)(a4,{}),(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,e.jsx)(ad,{}),(0,e.jsx)(f.Suspense,{fallback:null,children:(0,e.jsx)(aW,{})})]})]}),"planning"===g&&(0,e.jsx)("div",{className:"space-y-6",children:(0,e.jsx)(bC,{})}),"schedule"===g&&(0,e.jsx)("div",{className:"space-y-6",children:(0,e.jsx)(bS,{})}),"games"===g&&(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsx)(bG,{}),(0,e.jsx)(bI,{}),(0,e.jsx)(bE,{})]}),"bill"===g&&(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsx)(ah,{}),(0,e.jsx)(aj,{})]})]})}function b_({label:a,active:b,onClick:c}){return(0,e.jsx)("button",{type:"button",onClick:c,className:`px-3 py-1.5 md:px-4 md:py-2 text-sm md:text-base rounded-full transition ${b?"bg-gradient-to-r from-indigo-500 to-cyan-500 text-white shadow":"text-slate-100 hover:bg-white/10"}`,"aria-current":b?"page":void 0,children:a})}},7532:(a,b,c)=>{Promise.resolve().then(c.bind(c,1623))},7743:()=>{},7755:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return f}});let d=c(3210),e=()=>{};function f(a){var b;let{headManager:c,reduceComponentsToState:f}=a;function g(){if(c&&c.mountedInstances){let b=d.Children.toArray(Array.from(c.mountedInstances).filter(Boolean));c.updateHead(f(b,a))}}return null==c||null==(b=c.mountedInstances)||b.add(a.children),g(),e(()=>{var b;return null==c||null==(b=c.mountedInstances)||b.add(a.children),()=>{var b;null==c||null==(b=c.mountedInstances)||b.delete(a.children)}}),e(()=>(c&&(c._pendingUpdate=g),()=>{c&&(c._pendingUpdate=g)})),null}},7903:(a,b,c)=>{"use strict";a.exports=c(4041).vendored.contexts.ImageConfigContext},8354:a=>{"use strict";a.exports=require("util")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9148:(a,b,c)=>{"use strict";a.exports=c(4041).vendored.contexts.RouterContext},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9513:(a,b,c)=>{"use strict";a.exports=c(4041).vendored.contexts.HeadManagerContext},9760:(a,b,c)=>{"use strict";a.exports=c(3332)}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[366,788],()=>b(b.s=3647));module.exports=c})();